!function(){function t(t){return t<-Math.PI?t+2*Math.PI:t>Math.PI?t-2*Math.PI:t}function e(t,e,a){var r=Math.max(0,Math.min(1,(a-t)/(e-t)));return r*r*(3-2*r)}function a(t){return(9>=t?"0":"")+t}function r(t,e){var a=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(a*a+r*r)}function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e,a){var r=t[0]-e[0],n=t[1]-e[1];return a*a>r*r+n*n}function i(t,e){Rt.beginPath();for(var a=1,r=0;t&&r<t.length;++r){var n=t[r];n?(a?Rt.moveTo(n[0],n[1]):Rt.lineTo(n[0],n[1]),a=0):a=1}e||Rt.closePath()}function s(t,e,a){var r=11*e*t.length;Rt.translate(a?a>0?0:-r:-r/2,0);for(var n=0;n<t.length;n++)i(mt[t[n]]&&mt[t[n]].map(function(t){return t&&[4*e*t[0],5*e*t[1]]}),1),Rt.lineJoin="round",Rt.stroke(),Rt.translate(11*e,0)}function f(t,e){var a,r=wt.VERTEX_SHADER,n=t;a=wt.createShader(r),wt.shaderSource(a,n),wt.compileShader(a);var o=a;if(ht&&!wt.getShaderParameter(a,wt.COMPILE_STATUS))throw wt.getShaderInfoLog(a);r=wt.FRAGMENT_SHADER,n=e,a=wt.createShader(r),wt.shaderSource(a,n),wt.compileShader(a);var i=a;if(ht&&!wt.getShaderParameter(a,wt.COMPILE_STATUS))throw wt.getShaderInfoLog(a);var s=wt.createProgram();if(wt.attachShader(s,o),wt.attachShader(s,i),wt.linkProgram(s),ht&&!wt.getProgramParameter(s,wt.LINK_STATUS))throw wt.getProgramInfoLog(s);wt.useProgram(s);var f=wt.getAttribLocation(s,"p");return wt.enableVertexAttribArray(f),wt.vertexAttribPointer(f,2,wt.FLOAT,!1,0,0),[s]}function h(t){wt.useProgram(t[0])}function l(t,e){return t[e]||(t[e]=wt.getUniformLocation(t[0],e))}function v(){var t=wt.createTexture();return wt.bindTexture(wt.TEXTURE_2D,t),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_MIN_FILTER,wt.LINEAR),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_MAG_FILTER,wt.LINEAR),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_WRAP_S,wt.CLAMP_TO_EDGE),wt.texParameteri(wt.TEXTURE_2D,wt.TEXTURE_WRAP_T,wt.CLAMP_TO_EDGE),t}function m(t,e){wt.bindTexture(wt.TEXTURE_2D,t),wt.texImage2D(wt.TEXTURE_2D,0,wt.RGBA,wt.RGBA,wt.UNSIGNED_BYTE,e)}function M(t,e){return wt.activeTexture(wt.TEXTURE0+e),wt.bindTexture(wt.TEXTURE_2D,t),e}function E(){var t=wt.createFramebuffer();wt.bindFramebuffer(wt.FRAMEBUFFER,t);var e=v();return wt.texImage2D(wt.TEXTURE_2D,0,wt.RGBA,Bt,Yt,0,wt.RGBA,wt.UNSIGNED_BYTE,null),wt.framebufferTexture2D(wt.FRAMEBUFFER,wt.COLOR_ATTACHMENT0,wt.TEXTURE_2D,e,0),[t,e]}function p(t){wt.bindFramebuffer(wt.FRAMEBUFFER,t[0])}function A(t){return t[1]}function b(){this.setSettings=function(t){for(var e=0;24>e;e++)this[String.fromCharCode(97+e)]=t[e]||0;this.c<.01&&(this.c=.01);var a=this.b+this.c+this.e;if(.18>a){var r=.18/a;this.b*=r,this.c*=r,this.e*=r}}}function T(){this._params=new b;var t,e,a,r,n,o,i,s,f,c,h,l;this.reset=function(){var t=this._params;r=100/(t.f*t.f+.001),n=100/(t.g*t.g+.001),o=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(h=.5-t.n/2,l=5e-5*-t.o),s=1+t.l*t.l*(t.l>0?-.9:10),f=0,c=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var r=this._params;return t=r.b*r.b*1e5,e=r.c*r.c*1e5,a=r.e*r.e*1e5+12,3*((t+e+a)/3|0)},this.synthWave=function(u,v){var m=this._params,M=1!=m.s||m.v,d=m.v*m.v*.1,E=1+3e-4*m.w,p=m.s*m.s*m.s*.1,g=1+1e-4*m.t,A=1!=m.s,b=m.x*m.x,T=m.g,R=m.q||m.r,S=m.r*m.r*m.r*.2,x=m.q*m.q*(m.q<0?-1020:1020),I=m.p?((1-m.p)*(1-m.p)*2e4|0)+32:0,D=m.d,P=m.j/2,y=m.k*m.k*.01,k=m.a,L=t,w=1/t,N=1/e,O=1/a,_=5/(1+m.u*m.u*20)*(.01+p);_>.8&&(_=.8),_=1-_;for(var G,C,F,U,B,Y,H=!1,W=0,X=0,q=0,K=0,j=0,V=0,J=0,z=0,Q=0,Z=0,$=new Array(1024),tt=new Array(32),et=$.length;et--;)$[et]=0;for(var et=tt.length;et--;)tt[et]=2*Math.random()-1;for(var et=0;v>et;et++){if(H)return et;if(I&&++Q>=I&&(Q=0,this.reset()),c&&++f>=c&&(c=0,r*=s),o+=i,r*=o,r>n&&(r=n,T>0&&(H=!0)),C=r,P>0&&(Z+=y,C*=1+Math.sin(Z)*P),C|=0,8>C&&(C=8),k||(h+=l,0>h?h=0:h>.5&&(h=.5)),++X>L)switch(X=0,++W){case 1:L=e;break;case 2:L=a}switch(W){case 0:q=X*w;break;case 1:q=1+2*(1-X*N)*D;break;case 2:q=1-X*O;break;case 3:q=0,H=!0}R&&(x+=S,F=0|x,0>F?F=-F:F>1023&&(F=1023)),M&&E&&(d*=E,1e-5>d?d=1e-5:d>.1&&(d=.1)),Y=0;for(var at=8;at--;){if(J++,J>=C&&(J%=C,3==k))for(var rt=tt.length;rt--;)tt[rt]=2*Math.random()-1;switch(k){case 0:B=h>J/C?.5:-.5;break;case 1:B=1-J/C*2;break;case 2:U=J/C,U=6.28318531*(U>.5?U-1:U),B=1.27323954*U+.405284735*U*U*(0>U?1:-1),B=.225*((0>B?-1:1)*B*B-B)+B;break;case 3:B=tt[Math.abs(32*J/C|0)]}M&&(G=V,p*=g,0>p?p=0:p>.1&&(p=.1),A?(j+=(B-V)*p,j*=_):(V=B,j=0),V+=j,K+=V-G,K*=1-d,B=K),R&&($[z%1024]=B,B+=$[(z-F+1024)%1024],z++),Y+=B}Y*=.125*q*b,u[et]=Y>=1?32767:-1>=Y?-32768:32767*Y|0}return v}}function R(){var t=window.innerWidth,e=window.innerHeight;if(t!=qt||e!=Kt){qt=t,Kt=e;var a=_t/t,r=(Gt+20)/e;ie=1/Math.max(a,r),!lt&&ie>1&&(ie=1),d.style.webkitTransform=d.style.transform="scale("+ie+")",d.style.top=Math.max(10,Math.floor((e-(Gt+20)*ie)/2))+"px",d.style.left=Math.max(0,Math.floor((t-_t*ie)/2))+"px"}}function S(){return Be&&Ae.length&&Ie>8e3}function x(t){lt&&!sa&&d.webkitRequestFullScreen&&(d.webkitRequestFullScreen(),sa=1);var e=c.getBoundingClientRect(),a=(t.clientX-e.left)/ie,r=(t.clientY-e.top)/ie;re?r>280&&400>r&&(a>Bt/2-180&&Bt/2-20>a?open("https://twitter.com/intent/tweet?hashtags=behindasteroids&via=greweb&url="+encodeURIComponent(location.href)+"&text="+encodeURIComponent("Reached Level "+Pe+" ("+25*Pe+"¢) with "+ne[0]+"⬠ "+ne[1]+"ᐃ "+ne[2]+"🝞")):a>Bt/2+20&&Bt/2+180>a&&location.reload()):We?Ie>0&&r>170&&310>r&&(Bt/2>a?(Pe=We-1,Ie=We=0,ne=localStorage.ba_ach.split(",").map(function(t){return parseInt(t,10)})):Ie=We=0):oe=[a,r]}function I(t){t[0]+=t[2]*te,t[1]+=t[3]*te}function D(t){var e=Math.cos(t[2]),a=Math.sin(t[2]),r=te*t[3];t[0]+=r*e,t[1]+=r*a}function P(t,e,a){var r=100;(t[0]<-r||t[1]<-r||t[0]>Bt+r||t[1]>Yt+r)&&a.splice(e,1)}function y(t,e,a){(t[4]-=te)<0&&a.splice(e,1)}function k(t){t[0]<0?t[0]+=Bt:t[0]>Bt&&(t[0]-=Bt),t[1]<0?t[1]+=Yt:t[1]>Yt&&(t[1]-=Yt)}function L(e){function a(e){var a=t(e-de[4]);return we=0>a?-1:1,a}function o(e,a){var r=t(e-de[4]),n=Math.abs(r);n>Math.PI/2?(a&&(Le=n>Math.PI/2-.4?a>0?-1:1:0),we=r>0?-1:1):(a&&(Le=.4>n?0>a?-1:1:0),we=0>r?-1:1)}function i(t,e){var a=t[0]-de[0],r=t[1]-de[1];if(!(e*e>a*a+r*r)){var i=a/800,s=r/800,f=i-de[2],c=s-de[3],h=Math.atan2(c,f),l=n([f,c]);o(h,l)}}function s(t,e){return t[0]*e[0]+t[1]*e[1]}function f(t,e,a){var r=[t[0]-e[0],t[1]-e[1]],n=s(r,a)/s(a,a);return[e[0]+n*a[0],e[1]+n*a[1]]}function c(e,a){var r=[e[0]-de[0],e[1]-de[1]],i=Math.atan2(r[1],r[0]),s=n(r);if(a&&d>.003*s&&Math.abs(t(i-E))<Math.PI/3){var f=n(a);r[0]+=100*a[0]/f,r[1]+=100*a[1]/f,i=Math.atan2(r[1],r[0]),o(i,1)}else o(i,-1)}function h(t){var e=[t[3]*Math.cos(t[2]),t[3]*Math.sin(t[2])],a=f(de,t,e),n=30+10*t[5],o=r(a,de);o>n||c(a,e)}function l(t,e,a,r){var n=[a[0]-e[0],a[1]-e[1]],o=s(r,r)-t*t,i=2*s(r,n),f=s(n,n),c=-i/(2*o),h=Math.sqrt(i*i-4*o*f)/(2*o),l=c-h,u=c+h,v=l>u&&u>0?u:l;return[v,[a[0]+r[0]*v,a[1]+r[1]*v]]}var u,v,m,M,d=Math.sqrt(de[2]*de[2]+de[3]*de[3]),E=Math.atan2(de[3],de[2]),p=[Bt/2,Yt/2],g=0,A=.3,b=.1,T=0;for(u=0;u<Ee.length;++u){var R=Ee[u],S=[R[3]*Math.cos(R[2]),R[3]*Math.sin(R[2])],x=s([de[0]-R[0],de[1]-R[1]],S)/s(S,S),I=[R[0]+x*S[0],R[1]+x*S[1]],D=r(de,I),P=D-10-10*R[5],y=Math.exp(-P/40)+Math.exp(-P/120)+x>0?Math.exp(-x/1e3):0;if(y>A&&(A=y,v=R,g++),y=Math.exp(-(R[5]-1))*Math.exp(-P/200),y>b){var k=l(.3,de,R,S),L=k[0],w=k[1];0<w[0]&&w[0]<Bt&&0<w[1]&&w[1]<Yt&&800>L&&(m=w,b=y)}}for(u=0;u<ge.length;++u){var N=ge[u];S=N.slice(2),x=s([de[0]-N[0],de[1]-N[1]],S)/s(S,S),I=[N[0]+x*S[0],N[1]+x*S[1]],D=r(de,I),y=Math.exp(-x/1e3)+2*Math.exp(-D/50),x>100&&1e3>x&&40>D&&y>T&&(T=y,M=I)}for(u=0;u<pe.length;++u){var O=pe[u];k=l(.3,de,O,O.slice(2)),L=k[0],w=k[1],m=w}Ne=1-Math.exp(-Ee.length/10)+(1-Math.exp(-g/3)),ke=Ie>3e3&&Math.random()<.001*te*(1-e),we=Ie>1e3&&Math.random()<.002*te?Math.random()<.6?0:Math.random()<.5?-1:1:we,Le=Ie>2e3&&Math.random()<.004*te?Math.random()<.7?0:Math.random()<.5?-1:1:Le,.1+e>Math.random()&&i(p,30),e>Math.random()&&(m?(ke=Math.abs(a(Math.atan2(m[1]-de[1],m[0]-de[0])))<.1&&Math.random()<.04*te,ca=m,la=L):ke=0),e>Math.random()&&(v&&(h(v),fa=v,ha=v),M&&c(M))}function w(t){for(var e=4+2*t,a=10*t,r=[],n=0;e>n;++n){var o=a*(.4+.6*Math.random()),i=2*Math.PI*n/e;r.push([o*Math.cos(i),o*Math.sin(i)])}return r}function N(){Ee=[];for(var t=0;8>t;++t){var e=Math.floor(1.5+3*Math.random());Ee[t]=[Bt*Math.random(),Yt*Math.random(),2*Math.PI*Math.random(),.02+.02*Math.random(),w(e),e]}}function O(t){var e=Ee[t];Ee.splice(t,1);var a=e[5];if(a>1)for(var r=Math.round(2+1.5*Math.random()),n=0;r>n;n++){var o=Math.random()+2*Math.PI*n/r;Ee.push([e[0]+10*Math.cos(o),e[1]+10*Math.sin(o),o,.5*e[3],w(a-1),a-1])}}function _(t){if(va.push(t[7]),Math.abs(Math.cos(t[2]))<t[9]){var e=C(t),a=U(t),r=Math.max(0,Math.min(e[0],Bt)),n=Math.max(0,Math.min(e[1],Yt)),o=(lt?.006:.008)*t[3],i=t[6],s=t[5];return Ee.push([r,n,a,o,s,i]),At($e),1}At(ta)}function G(t){Rt.globalAlpha=.2,Rt.strokeStyle="#f00",i(t[4]),Rt.stroke()}function C(t){var e,a,r=t[0]%Ht,n=Bt+Ut,o=Yt+Ut;n>r?(e=r,a=0):(r-=n,o>r?(e=n,a=r):(r-=o,n>r?(e=n-r,a=o):(r-=n,e=0,a=o-r)));var i=[-Ut/2+e,-Ut/2+a];if(t[10]){var s=Me-t[10],f=Math.atan2(de[1]-i[1],de[0]-i[0]),c=.3*s;i[0]-=Math.cos(f)*c,i[1]-=Math.sin(f)*c}return i}function F(t){var e=C(t),a=Math.atan2(de[1]-e[1],de[0]-e[0]);return a}function U(t){return Math.cos(t[2])*t[8]+F(t)}function B(){var t=Ae.reduce(function(t,e){return e[6]},0);return Me>ua&&Math.random()<.01*te*Math.exp(-t*(1+5*Math.exp(-(Pe-1)/3)-.2*Math.exp(-Math.abs(Pe-20)/20)))*(1-Math.exp(-Ie/5e3))?(ua=Me+1e3*(1+Math.random()),Y()):void 0}function Y(){if(!va.length)return 0;for(var t=Math.random()*Ht,e=va.shift(),a=0;a<Ae.length;++a){var r=Ae[a],n=r[0]%Ht;if(n>t-60&&t+60>n)return 0}var o=1-Math.exp(-Pe/5),i=1-Math.exp((1-Pe)/20);Math.random()>o&&(i*=Math.random());var s=i+Math.random()*(o-i),f=i+Math.random()*(o-i),c=i+Math.random()*(o-i),h=Math.floor(2+3*Math.random()*Math.random()+4*Math.random()*Math.random()*Math.random()),l=2>Pe?0:Math.PI*(.8*Math.random()+.05*h)*s;.2>l&&(l=0);var u=Pe>2&&l>Math.exp(-Pe/4)&&Math.random()>.5+.4*((Pe-3)%8)/8-.5*(1-Math.exp(-Pe/10))?.9-.5*f-.2*s:1;return 2==Pe&&(l=.2+Math.random()),3==Pe&&(l=.2+Math.random(),u=.5+.4*Math.random()),Ae.push([t,.1+.002*Pe,2*Math.PI*Math.random(),10+40*Math.random(),.002+.001*(Math.random()+.5*h*Math.random()+Math.random()*Pe/30)*c-.001*s,w(h),h,e,l,u,0]),1}function H(t){t[10]||(t[0]+=t[1]*te,t[2]+=t[4]*te,t[3]=t[3]<10?60:t[3]-.02*te)}function W(t){var e=F(t),a=Math.cos(t[2]),r=a*t[8]+e,n=10*t[6],o=Math.abs(a)<t[9];if(Ie>0&&ye&&!Te&&!t[10]){Rt.lineWidth=1+t[3]/60,Rt.strokeStyle=o?"#7cf":"#f66",t[8]>.1&&(Rt.save(),Rt.rotate(e),Rt.strokeStyle="#f66",Rt.beginPath(),Rt.arc(0,0,n+10,-t[8],-t[8]*t[9]),Rt.stroke(),Rt.beginPath(),Rt.arc(0,0,n+10,t[8]*t[9],t[8]),Rt.stroke(),Rt.strokeStyle="#7cf",Rt.beginPath(),Rt.arc(0,0,n+10,-t[8]*t[9],t[8]*t[9]),Rt.stroke(),i([[n+8,0],[n+12,0]]),Rt.stroke(),Rt.restore()),Rt.save(),Rt.rotate(r),Rt.save();var f=60+n,c=t[3]+n;Rt.globalAlpha=.2,i([[0,0],[f,0]]),Rt.stroke(),Rt.restore(),i([[0,0],[c,0]]),Rt.stroke();var h=6;i([[f-h,h],[f,0],[f-h,-h]],1),Rt.stroke(),Rt.restore()}else Rt.strokeStyle=t[10]?"#f66":"#999";Rt.save(),i(t[5]),Rt.fillStyle="#000",Rt.fill(),Rt.stroke(),Rt.restore();var l=[0,0];t[5].forEach(function(t){l[0]+=t[0],l[1]+=t[1]}),!lt&&Ie>0&&(Rt.save(),S()&&(Rt.strokeStyle="#f7c"),Rt.translate(l[0]/t[5].length+1,l[1]/t[5].length-5),s(String.fromCharCode(t[7]),1),Rt.restore())}function X(){S()&&(Rt.strokeStyle="#f7c",Rt.lineWidth=4,Ae.forEach(function(t){var e=C(t);Rt.beginPath(),Rt.arc(e[0],e[1],80+40*Math.cos(.005*Me),0,2*Math.PI),Rt.stroke()}))}function q(t,e,a){var r=Math.cos(a),n=Math.sin(a);ge.push([t[0]+14*r,t[1]+14*n,t[2]+e*r,t[3]+e*n,1e3,0])}function K(){Rt.globalAlpha=1-Math.random()*Math.random(),Rt.fillStyle="#00f",Rt.beginPath(),Rt.arc(0,0,2+2.5*Math.random(),0,2*Math.PI),Rt.fill()}function j(t){At(Math.random()<.5?Qe:Ze);for(var e=Math.floor(19+9*Math.random()),a=0;e>a;++a){var r=30*Math.random()-10,n=(Math.random()+2*Math.PI*a)/e;be.push([t[0]+r*Math.cos(n),t[1]+r*Math.sin(n),n,.06,Math.random()<.3?0:1e3])}}function V(){Rt.globalAlpha=.8,Rt.fillStyle="#f00",Rt.beginPath(),Rt.arc(0,0,1,0,2*Math.PI),Rt.fill()}function J(){Te||(Te=Me,De++,ne[1]++)}function z(t){if(Rt.strokeStyle="#f00",Rt.globalAlpha=.4,Rt.rotate(t[4]),Te){Rt.lineWidth=2;var e=(Me-Te)/200;i([[-6,-6-.5*e],[3,-3-.9*e]]),Rt.stroke(),8>e&&(i([[3+.4*e,-3-.8*e],[12+.4*e,0-.5*e]]),Rt.stroke()),i([[12,0+.4*e],[3,3+e]]),Rt.stroke(),9>e&&(i([[1,5+e],[-6,6+e]]),Rt.stroke()),7>e&&(i([[-6-e,-6],[-6-e,6]]),Rt.stroke())}else i([[-6,-6],[12,0],[-6,6],[-5,0]]),Rt.stroke(),Oe>.2&&(i([[-7,2*Math.random()-1],[-7-5*Oe,4*Math.random()-2]]),Rt.stroke()),-.2>Oe&&(i([[2,-5],[2-5*Oe,-7],,[2,5],[2-5*Oe,7]]),Rt.stroke())}function Q(t){if(t[4]-=te,t[4]<0&&(t[4]=500+300*Math.random(),!Te)){var e=Math.atan2(de[1]-t[1],de[0]-t[0]);if(!t[2]||Math.random()<.2){var a=2*Math.PI*Math.random();t[2]=.08*Math.cos(a),t[3]=.08*Math.sin(a)}q(t,.3+.1*Math.random(),e+.6*Math.random()-.3)}}function Z(){Rt.globalAlpha=.4,Rt.strokeStyle="#f00",i(ga),Rt.stroke()}function $(t,e){Rt.globalAlpha=1,i([[0,0],[160,0],[160,120],[0,120]]),Rt.translate(80,30),Rt.stroke(),Rt.fillStyle="#000",Rt.fill(),Rt.save(),s(t,2),Rt.restore(),Rt.save(),Rt.translate(0,40),s(e,2),Rt.restore()}function tt(){if(Rt.save(),Rt.fillStyle=Rt.strokeStyle="#0f0",Rt.globalAlpha=.3,re)Rt.save(),Rt.strokeStyle="#0f0",Rt.globalAlpha=.3,Rt.save(),Rt.translate((Bt-340)/2,Yt/8),s("YOU EARNED ",2,1),Rt.globalAlpha=.5,s(25*Pe+"¢",2,1),Rt.restore(),Rt.save(),Rt.translate(Bt/2,Yt/4),s("FROM "+Pe+" PLAYERS",2),Rt.restore(),Rt.save(),Rt.globalAlpha=.5,Rt.translate((Bt-200)/2,Yt/2),rt(2),Rt.restore(),Rt.save(),Rt.translate(Bt/2-180,Yt-160),$("TWEET","SCORE"),Rt.restore(),Rt.save(),Rt.translate(Bt/2+20,Yt-160),$("PLAY","AGAIN"),Rt.restore(),Rt.restore();else if(0>Ie||We)Rt.save(),Rt.translate(Bt-50,20),s(a(0),1.5,-1),Rt.restore(),Rt.save(),Rt.translate(50,70),(!We||Ie>0)&&500>Me%1e3&&s("PLAYER "+(We||Pe+1),2,1),Rt.restore(),Rt.save(),Rt.translate(Bt/2-160,.7*Yt),i([[0,2],[0,18]]),Rt.stroke(),Rt.translate(40,0),s("COIN",2,1),Rt.translate(40,0),i([[0,2],[0,18]]),Rt.stroke(),Rt.translate(40,0),s("PLAY",2,1),Rt.restore();else for(var t=1;ye>t;t++)Rt.save(),Rt.translate(60+10*t,50),Rt.rotate(-Math.PI/2),i([[-4,-4],[10,0],[-4,4],[-3,0]]),Rt.stroke(),Rt.restore();!re&&Te&&1==ye&&(Rt.save(),Rt.lineWidth=2,Rt.translate(Bt/2,140),s("GAME OVER",2),Rt.restore()),!re&&We&&Ie>0&&(Rt.save(),Rt.globalAlpha=1,Rt.translate(Bt/2,140),s("CONTINUE ?",3),Rt.restore(),Rt.save(),Rt.globalAlpha=1,Rt.translate(Bt/4,210),s("YES",lt?4:6),Rt.restore(),Rt.save(),Rt.globalAlpha=1,Rt.translate(3*Bt/4,210),s("NO",lt?4:6),Rt.restore()),Rt.save(),Rt.translate(Bt/2,Yt-14),s("2015 GREWEB INC",.6),Rt.restore(),re||(Rt.save(),Rt.translate(Bt/2,20),s(a(Se),.6),Rt.restore(),Rt.save(),Rt.translate(50,20),s(a(xe),1.5,1),Rt.restore()),(re||0>Ie&&800>Me%1e3)&&(Rt.save(),Rt.translate(Bt-20,Yt-24),s(lt?"MOBILE":"DESKTOP",.6,-1),Rt.restore(),Rt.save(),Rt.translate(Bt-20,Yt-14),s("VERSION",.6,-1),Rt.restore()),Rt.restore()}function et(){Rt.save(),Rt.fillStyle=Rt.strokeStyle="#f00",Rt.globalAlpha=.03,Rt.translate(Bt/2,Yt/2),Rt.beginPath(),Rt.arc(0,0,4,0,2*Math.PI),Rt.fill(),Rt.stroke(),Rt.beginPath(),Rt.arc(0,0,12,0,2*Math.PI),Rt.stroke(),Rt.beginPath(),Rt.arc(0,0,12,4,6),Rt.stroke(),Rt.beginPath(),Rt.arc(0,0,12,1,2),Rt.stroke(),Rt.restore()}function at(){function t(t){e="PLAYER "+t,a=["GENIOUS PLAYER!!","EXPERIENCED PLAYER!!","GOOD PLAYER. GET READY","NICE PLAYER.","BEGINNER.","VERY BEGINNER. EASY KILL"][Math.floor(6*Math.exp(-t/8))]}var e="",a="",r="#f7c",n="#7fc";if(re)e="PLAYER MASTERED THE GAME",a="REACHED ᐃᐃᐃᐃᐃ";else if(Pe)Te?1==ye?(n="#f66",e="GOOD JOB !!!",a="THE DUDE IS BROKE"):2==ye?(n="#f66",e="OK...",a="ONE MORE TIME !"):Ma&&Me-ba>3e3?e=Ma:(e=["!!!","GREAT!","COOL!","OMG!","AHAH!","RUDE!","EPIC!","WICKED!","SHAME!","HEHEHE!","BWAHAHA!"],Ma=e=e[Math.floor(Math.random()*e.length)],ba=0):0>Ie?(e="INCOMING NEW PLAYER...",a="25¢ 25¢ 25¢ 25¢ 25¢"):6e3>Ie&&4==ye?t(Pe):(n="#f66",Ma&&3e3>Me-ba?a=Ma:Be?S()&&(r=n="#f7c",e=lt?"TAP ON ASTEROIDS":"PRESS ASTEROIDS LETTER",a="TO SEND THEM TO THE GAME"):ye>4&&Me-qe>5e3?(r=n="#f66",e="DON'T LET PLAYER",a="REACH ᐃᐃᐃᐃᐃ !!!"):xe>1e4&&4500>Me-qe?(r=n="#f66",e="OH NO! PLAYER JUST",a="WON AN EXTRA LIFE!"):2==Pe&&Ie>5e3?(n=r="#7cf",e="LETS TRAIN WITH...",a="AIMING"):3==Pe&&Ie>5e3?(r="#7cf",n="#f66",e="CAREFUL ABOUT THE",a="RED AIMING"):4==Pe&&Ie>5e3&&Ye?(r=n="#f66",e="MAKE COMBOS TO SEND",a="AN UFO !!!"):Pe>5&&(Ma=0,Math.random()<1e-4*te&&Me-ba>8e3&&(a=["COME ON! KILL IT!","JUST DO IT!","I WANT ¢¢¢","GIVE ME SOME ¢¢¢","DO IT!","DESTROY IT!"],Ma=a=a[Math.floor(Math.random()*a.length)],ba=Me)));else if(-7e3>Ie)e="BEHIND ASTEROIDS",a="THE DARK SIDE";else if(-3500>Ie)r=n="#7cf",e="SEND ASTEROIDS TO MAKE",a="PLAYERS WASTE THEIR MONEY";else if(We)0>Ie&&(Ie=0),t(We);else{for(var o=Math.min(25,Math.floor((Ie+3500)/80)),i=0;o>i;i++)e+=".";Ie>-2e3&&(a="A NEW PLAYER!")}a&&da!==a&&"#f66"===n&&At(ra),Rt.save(),Rt.translate(Ct,lt?40:2),Rt.lineWidth=Me%600>300?2:1,Rt.save(),Rt.strokeStyle=r,s(e,lt?1.5:2,1),Rt.restore(),Rt.save(),Rt.strokeStyle=n,Rt.translate(0,lt?30:40),s(da=a,lt?1.5:2,1),Rt.restore(),Rt.restore(),re||(Rt.save(),Rt.translate(_t-Ct,2),Rt.lineWidth=2,Rt.strokeStyle="#7cf",s(25*(Ie>0&&We||Pe)+"¢",2,-1),Rt.restore(),Rt.save(),Rt.globalAlpha=Ge?1:.6,Rt.strokeStyle="#7cf",Rt.translate(_t-Ct,Gt-30),He&&s(He+"x",1.5,-1),Rt.restore(),ne&&(Rt.save(),Rt.translate(Ct+50,Gt-20),Rt.strokeStyle="#fc7",rt(1),Rt.restore()))}function rt(t){for(var e=0;3>e;e++){var a=ne[e];a&&(Rt.save(),Rt.translate(100*e,0),i(Aa[e]),Rt.stroke(),Rt.translate(0,-20-10*t),s(""+a,t),Rt.restore())}}function nt(){m(me,g),p(le),h(zt),wt.uniform1i(l(zt,"t"),M(me,0)),wt.drawArrays(wt.TRIANGLES,0,6),p(ce),h($t),wt.uniform1f(l($t,"pt"),Ie/1e3),wt.uniform1f(l($t,"pl"),Pe),wt.uniform1f(l($t,"ex"),re||Ue),wt.drawArrays(wt.TRIANGLES,0,6),p(ue),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ce),0)),wt.uniform2f(l(Vt,"dir"),2,2),wt.drawArrays(wt.TRIANGLES,0,6),p(ve),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ue),0)),wt.uniform2f(l(Vt,"dir"),-2,2),wt.drawArrays(wt.TRIANGLES,0,6),p(ue),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ve),0)),wt.uniform2f(l(Vt,"dir"),6,0),wt.drawArrays(wt.TRIANGLES,0,6),p(ce),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ue),0)),wt.uniform2f(l(Vt,"dir"),0,2),wt.drawArrays(wt.TRIANGLES,0,6),p(he),h(Zt),wt.uniform1i(l(Zt,"t"),M(A(le),0)),wt.drawArrays(wt.TRIANGLES,0,6),p(ue),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(he),0)),wt.uniform2f(l(Vt,"dir"),2,-4),wt.drawArrays(wt.TRIANGLES,0,6),p(he),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ue),0)),wt.uniform2f(l(Vt,"dir"),4,-8),wt.drawArrays(wt.TRIANGLES,0,6),p(ue),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(le),0)),wt.uniform2f(l(Vt,"dir"),.5,.5),wt.drawArrays(wt.TRIANGLES,0,6),p(ve),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ue),0)),wt.uniform2f(l(Vt,"dir"),-.5,.5),wt.drawArrays(wt.TRIANGLES,0,6),p(ue),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ve),0)),wt.uniform2f(l(Vt,"dir"),1,0),wt.drawArrays(wt.TRIANGLES,0,6),p(ve),h(Vt),wt.uniform1i(l(Vt,"t"),M(A(ue),0)),wt.uniform2f(l(Vt,"dir"),0,1),wt.drawArrays(wt.TRIANGLES,0,6),p(ue),h(Qt),wt.uniform1i(l(Qt,"t"),M(A(ve),0)),wt.uniform1i(l(Qt,"r"),M(A(fe),1)),wt.drawArrays(wt.TRIANGLES,0,6),p(fe),h(Jt),wt.uniform1i(l(Jt,"t"),M(A(ue),0)),wt.drawArrays(wt.TRIANGLES,0,6),wt.bindFramebuffer(wt.FRAMEBUFFER,null),h(se),wt.uniform1i(l(se,"G"),M(A(le),0)),wt.uniform1i(l(se,"R"),M(A(fe),1)),wt.uniform1i(l(se,"B"),M(A(ve),2)),wt.uniform1i(l(se,"L"),M(A(he),3)),wt.uniform1i(l(se,"E"),M(A(ce),4)),wt.uniform1f(l(se,"s"),Pe?1:e(-4e3,-3e3,Ie)),wt.uniform1f(l(se,"F"),e(300,0,Me-Ke)+ye>4?.5*e(-1,1,Math.cos(.01*Me)):0),wt.drawArrays(wt.TRIANGLES,0,6)}function ot(t){requestAnimationFrame(ot),Ta||(Ta=t),te=Math.min(100,t-Ta),Ta=t,Me-Ra>200&&R(),Me+=te,it(),Rt=Ot,Rt.save(),Rt.scale(Xt,Xt),Rt.save(),Rt.clearRect(0,0,_t,Gt),at(),Rt.translate(Ct,Ft),Ae.forEach(function(t){Rt.save(),ft(C(t)),W(t),Rt.restore()}),X(),Rt.restore(),Rt.restore(),Rt=Nt,Rt.save(),st(),Rt.restore(),nt()}function it(){if(Ie+=te,Me-Fe>1200&&(Fe=Me,pe.length&&At(na)),!re&&!We){Ie>0&&!ne&&(ne=[0,0,0]);var e,a=0;if(!Te&&Ie>0&&Me-Ce>5e3&&Pe>2&&!pe.length){ae=Math.floor(30-25*Math.exp(-(Pe-3)/15));var r=3*He/ae;He>ae&&(Ce=Me,Ye=He=0,pe.push([Bt*Math.random(),Yt*Math.random(),0,0,0]),ne[2]++),_e+=2*r*Math.PI*te/1e3,Math.sin(_e)>0!==Ge&&(Ge=!Ge,At(Ge?Je:ze))}if(0==ye&&Ie>0&&(Re=Me,ye=4,Pe++,xe=0,ee=1e4,Ee=[],pe=[],At(aa),Pe>1&&(localStorage.ba_pl=Pe,localStorage.ba_ach=ne)),Ie>1e3&&!Te){for(e=0;e<Ae.length;e++){var n=Ae[e];if(n[10])Me-n[10]>1e3&&Ae.splice(e--,1);else{var i=C(n),s=oe&&o(oe,i,(lt?60:20)+10*n[6]);(je[n[7]]||s)&&(Be=oe=je[n[7]]=0,_(n)?(ne[0]++,Pe>3&&He++,Ae.splice(e--,1)):(xe+=5e3,He=0,Ke=n[10]=Me))}}for(oe=0;B(););}if(Te&&Me-Te>2e3+(ye>1?0:2e3)&&(Te=0,de=[Bt/2,Yt/2,0,0,0],--ye?Re=Me:(Ie=-5e3,N(),pe=[],At(ea))),Se=Math.max(Se,xe),xe>=ee&&(qe=Me,ye++,ee+=1e4,At(oa),ye>5&&(re=1,Ae=[],pe=[],N())),ge.forEach(function(t,e){t[5]||a++;var r;if(t[4]<900){if(!Te&&o(t,de,20))return j(t),ge.splice(e,1),void J();for(r=0;r<pe.length;++r){var n=pe[r];if(o(t,n,20))return j(t),ge.splice(e,1),void pe.splice(r,1)}}for(r=0;r<Ee.length;++r){var i=Ee[r],s=i[5];if(o(t,i,10*s))return j(t),ge.splice(e,1),O(r),void(xe+=20*Math.floor(.4*(6-s)*(6-s)))}}),!Te&&Ie>0&&Ee.forEach(function(t,e){o(t,de,10+10*t[5])&&(1e3>Me-Re?O(e):(j(de),J()))}),Ne=0,!Te&&Ie>0){var f=Math.cos(de[4]),c=Math.sin(de[4]);L(1-Math.exp(-(Pe-.8)/14));var h=.004+.003*(1-Math.exp(-Pe/40)),l=3e-4-2e-4*Math.exp(-(Pe-1)/5)+1e-5*Pe,u=100+1e3*Math.exp(-(Pe-1)/8)+300*Math.exp(-Pe/20);de[2]+=Le*te*l*f,de[3]+=Le*te*l*c,de[4]=t(de[4]+we*te*h),3>a&&ke&&Me-Xe>u&&(Xe=Me,At(Ve),q(de,.3,de[4]))}}I(de),Ee.forEach(D),pe.forEach(I),ge.forEach(I),be.forEach(D),pe.forEach(Q),Ae.forEach(H),be.forEach(y),k(de),Ee.forEach(Ie>0&&!We&&!re?P:k),pe.forEach(k),ge.forEach(y),ge.forEach(k),Ue+=.04*(Ne-Ue),Oe+=.04*(Le-Oe)}function st(){Rt.save(),Rt.fillStyle="#000",Rt.fillRect(0,0,Bt,Yt),Rt.restore(),ct(Ee,G),ct(pe,Z),ct(ge,K),ct(be,V),Ie>0&&!We&&!re&&(Rt.save(),ft(de),z(de),Rt.restore()),tt(),et()}function ft(t){Rt.translate(t[0],t[1])}function ct(t,e){for(var a=0;a<t.length;++a)Rt.save(),ft(t[a]),e(t[a]),Rt.restore()}var ht=!1,lt="ontouchstart"in document,ut=[[0,0],[2,0],[2,2],[0,2],[0,0]],vt=[[2,0],[0,0],[0,1],[2,1],[2,2],[0,2]],mt=[ut,[[1,0],[1,2]],[[0,0],[2,0],[2,1],[0,1],[0,2],[2,2]],[[0,0],[2,0],[2,2],[0,2],,[0,1],[2,1]],[[0,0],[0,1],[2,1],,[2,0],[2,2]],vt,[[0,0],[0,2],[2,2],[2,1],[0,1]],[[0,0],[2,0],[2,2]],[[0,0],[2,0],[2,2],[0,2],[0,0],,[0,1],[2,1]],[[2,2],[2,0],[0,0],[0,1],[2,1]]];[[[0,2],[0,2/3],[1,0],[2,2/3],[2,2],,[0,4/3],[2,4/3]],[[0,1],[0,0],[4/3,0],[2,1/3],[2,2/3],[4/3,1],[0,1],[0,2],[4/3,2],[2,5/3],[2,4/3],[4/3,1]],[[2,0],[0,0],[0,2],[2,2]],[[0,0],[1,0],[2,2/3],[2,4/3],[1,2],[0,2],[0,0]],[[2,0],[0,0],[0,2],[2,2],,[0,1],[1.5,1]],[[2,0],[0,0],[0,2],,[0,1],[2,1]],[[2,2/3],[2,0],[0,0],[0,2],[2,2],[2,4/3],[1,4/3]],[[0,0],[0,2],,[2,0],[2,2],,[0,1],[2,1]],[[0,0],[2,0],,[1,0],[1,2],,[0,2],[2,2]],[[2,0],[2,2],[1,2],[0,4/3]],[[0,0],[0,2],,[2,0],[0,1],[2,2]],[[0,0],[0,2],[2,2]],[[0,2],[0,0],[1,2/3],[2,0],[2,2]],[[0,2],[0,0],[2,2],[2,0]],ut,[[0,2],[0,0],[2,0],[2,1],[0,1]],[[0,0],[2,0],[2,4/3],[1,2],[0,2],[0,0],,[2,2],[1,4/3]],[[0,2],[0,0],[2,0],[2,1],[0,1],[2,2]],vt,[[0,0],[2,0],,[1,0],[1,2]],[[0,0],[0,2],[2,2],[2,0]],[[0,0],[1,2],[2,0]],[[0,0],[0,2],[1,4/3],[2,2],[2,0]],[[0,0],[2,2],,[2,0],[0,2]],[[0,0],[1,2/3],[2,0],,[1,2/3],[1,2]],[[0,0],[2,0],[0,2],[2,2]]].forEach(function(t,e){mt[String.fromCharCode(65+e)]=t});var Mt=mt["."]=[[1,1.8],[1,2]];mt[":"]=[[1,0],[1,.2],,[1,1.8],[1,2]],mt["'"]=[[1,0],[1,2/3]],mt["ᐃ"]=[[1,0],[1.8,2],[1,1.6],[.2,2],[1,0]],mt["!"]=[[1,0],[1,1.5],,].concat(Mt),mt["?"]=[[0,0],[2,0],[2,1],[1,1],[1,1.5],,].concat(Mt),mt.x=[[0,1],[2,2],,[2,1],[0,2]],mt["¢"]=[[1,0],[1,2],,[1.5,.5],[.5,.5],[.5,1.5],[1.5,1.5]];var dt=new T;jsfxr=function(t,e,a){dt._params.setSettings(t);var r=dt.totalReset(),n=new Uint8Array(4*((r+1)/2|0)+44),o=2*dt.synthWave(new Uint16Array(n.buffer,44),r),i=new Uint32Array(n.buffer,0,44);i[0]=1179011410,i[1]=o+36,i[2]=1163280727,i[3]=544501094,i[4]=16,i[5]=65537,i[6]=44100,i[7]=88200,i[8]=1048578,i[9]=1635017060,i[10]=o,o+=44;for(var s=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="data:audio/wav;base64,";o>s;s+=3){var h=n[s]<<16|n[s+1]<<8|n[s+2];c+=f[h>>18]+f[h>>12&63]+f[h>>6&63]+f[63&h]}return e&&e.decodeAudioData(n.buffer,a),c};var Et,pt,gt,At,bt=window.AudioContext||window.webkitAudioContext;if(bt){Et=new bt,pt=Et.createDynamicsCompressor();var Tt=Et.createGain();Tt.gain.value=.1,pt.connect(Tt),Tt.connect(Et.destination),gt=function(t){var e=[];return jsfxr(t,Et,function(t){e.push(t)}),e},At=function(t){if(t[0]){var e=Et.createBufferSource();e.buffer=t[0],e.start(0),e.connect(pt),setTimeout(function(){e.disconnect(pt)},1e3*t[0].duration+300)}}}else gt=At=function(){};var Rt,St="precision highp float;varying vec2 uv;uniform sampler2D t;uniform vec2 dim;uniform vec2 dir;void main(){vec4 a=vec4(0.0);vec2 b=vec2(1.3846153846)*dir;vec2 c=vec2(3.2307692308)*dir;a+=texture2D(t,uv)*0.2270270270;a+=texture2D(t,uv+(b/dim))*0.3162162162;a+=texture2D(t,uv-(b/dim))*0.3162162162;a+=texture2D(t,uv+(c/dim))*0.0702702703;a+=texture2D(t,uv-(c/dim))*0.0702702703;gl_FragColor=a;}",xt="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=texture2D(t,uv);}",It="precision highp float;varying vec2 uv;uniform sampler2D G;uniform sampler2D R;uniform sampler2D B;uniform sampler2D L;uniform sampler2D E;uniform float s;uniform float F;float a(vec2 b,vec2 c){float d=10.0;vec2 e=b-c;return pow(abs(pow(abs(e.x),d)+pow(abs(e.y),d)),1.0/d);}void main(){vec2 f=(uv/0.98)-0.01;float g=a(uv,vec2(0.5));float h=smoothstep(0.45,0.51,g);f=mix(f,vec2(0.5),0.2*(0.6-g)-0.02*g);vec3 i=texture2D(G,f).rgb;gl_FragColor=vec4((vec3(0.03+0.1*F,0.04,0.05)+mix(vec3(0.05,0.1,0.15)-i,2.0*i,s)+s*(texture2D(L,f).rgb+vec3(0.3+F,0.6,1.0)*(texture2D(R,f).rgb+3.0*texture2D(B,f).rgb)+0.5*texture2D(E,f).rgb))*mix(1.0,smoothstep(1.0,0.0,h),0.6),1.0);}",Dt="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=vec4(step(0.9,texture2D(t,uv).r));}",Pt="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){vec3 a=texture2D(t,uv).rgb;vec2 b=0.003*vec2(cos(47.0*uv.y),sin(67.0*uv.x));gl_FragColor=vec4(a.r+a.g+a.b+texture2D(t,uv+b).b);}",yt="precision highp float;varying vec2 uv;uniform sampler2D t;uniform sampler2D r;void main(){vec3 a=texture2D(r,uv).rgb;gl_FragColor=vec4(a*(0.82-0.3*a.r*a.r)+texture2D(t,uv).rgb,1.0);}",kt="precision highp float;varying vec2 uv;uniform float pt;uniform float pl;uniform float S;uniform float ex;float a(vec2 b,vec2 c){return step(length((uv-b)/c),1.0);}float d(vec2 b,vec2 c,float e){vec2 f=(uv-b)/c;return step(pow(abs(f.x),e)+pow(abs(f.y),e),1.0);}vec3 g(){return 0.1+0.3*vec3(1.0,0.9,0.7)*smoothstep(0.4,0.1,distance(uv,vec2(0.2,1.2)))+0.4*vec3(0.8,0.6,1.0)*smoothstep(0.5,0.2,distance(uv,vec2(1.3,0.7)));}vec4 h(float e,float i){vec4 b=vec4(0.0);vec2 j=vec2(min(ex,1.0),mix(min(ex,1.0),min(ex-1.0,1.0),0.5));vec4 k=0.2+0.4*pow(abs(cos(4.*e+S)),2.0)*vec4(1.0,0.7,0.3,1.0);vec4 l=vec4(0.5,0.3,0.3,1.0);vec4 m=vec4(0.3*(1.0+cos(3.*e+6.*S)),0.2*(1.0+cos(7.*e+7.*S)),0.1+0.2*(1.0+sin(7.*e+8.*S)),1.0);float n=step(sin(9.0*e+S),0.0);float o=0.02+0.02*n*cos(e+S);float p=step(i,-0.01)+step(0.01,i);float q=(1.0-p)*step(0.0,pt);vec2 r=vec2(0.5)+p*vec2(0.03*cos(4.0*pt+sin(pt)),0.05*abs(sin(3.0*pt)))+j*q*vec2(0.05*cos(pt*(1.0+0.1*sin(pt))),0.05*abs(sin(pt)));vec2 s=mix(r,vec2(0.5),0.5);r.x+=i;s.x+=i;b+=k*a(r,vec2(0.06,0.1));b*=1.0-(0.5+0.5*n)*a(r-vec2(0.0,0.04),vec2(0.03,0.01));b*=1.0-a(r+vec2(0.03,0.03),vec2(0.02,0.01));b*=1.0-a(r+vec2(-0.03,0.03),vec2(0.02,0.01));b*=1.0-0.6*a(r,vec2(0.01,0.02));b+=l*a(r+vec2(0.0,o),vec2(0.07,0.1+o));b+=q*(l+k)*a(s-vec2(-0.2+0.01*cos(5.0*pt),0.45-0.1*j.y*step(0.0,pt)*pow(abs(sin(8.0*pt*(1.0+0.2*cos(pt)))),4.0)),vec2(0.055,0.05));b+=q*(l+k)*a(s-vec2(0.2+0.01*cos(5.0*pt),0.45-0.1*j.x*step(2.0,pt)*pow(abs(cos(7.0*pt)),4.0)),vec2(0.055,0.05));b+=step(b.a,0.0)*(l+k)*d(r-vec2(0.0,0.10+0.02*n),vec2(0.05-0.01*n,0.03),4.0);vec2 t=vec2(0.16+0.04*sin(9.*e),0.27+0.02*cos(9.*e));b+=step(b.r+b.g+b.b,0.0)*m*step(1.0,d(r-vec2(0.0,0.35),t*(1.0-0.1*n),4.0)+a(r-vec2(0.0,0.35),t));return b;}void main(){float u=0.6+0.4*smoothstep(2.0,0.0,distance(pt,-2.0));vec4 b=vec4(0.0);b+=(1.0-smoothstep(-0.0,-5.0,pt))*h(pl+step(pt,0.0),-0.6*smoothstep(-1.,-5.,pt));b+=step(1.0,pl)*h(pl+step(pt,0.0)-1.0,2.0*smoothstep(-4.,-1.,pt));b*=1.0-1.3*distance(uv,vec2(0.5));gl_FragColor=vec4(u*mix(g(),b.rgb,clamp(b.a,0.0,1.0)),1.0);}",Lt="attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,0.0,1.0);uv=0.5*(p+1.0);}",wt=c.getContext("webgl")||c.getContext("experimental-webgl"),Nt=g.getContext("2d"),Ot=u.getContext("2d"),_t=lt?480:800,Gt=lt?660:680,Ct=lt?50:120,Ft=lt?140:Ct,Ut=lt?40:80,Bt=_t-2*Ct,Yt=Gt-2*Ft,Ht=2*(Bt+Yt+2*Ut),Wt=Math.random();d.style.webkitTransformOrigin=d.style.transformOrigin="0 0",g.width=c.width=Bt,g.height=c.height=Yt,c.style.top=Ft+"px",c.style.left=Ct+"px";var Xt=lt?1:devicePixelRatio;u.width=_t*Xt,u.height=Gt*Xt,u.style.width=_t+"px",u.style.height=Gt+"px";var qt=0,Kt=0;wt.viewport(0,0,Bt,Yt),wt.pixelStorei(wt.UNPACK_FLIP_Y_WEBGL,!0);var jt=wt.createBuffer();wt.bindBuffer(wt.ARRAY_BUFFER,jt),wt.bufferData(wt.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),wt.STATIC_DRAW);var Vt=f(Lt,St);wt.uniform2f(l(Vt,"dim"),Bt,Yt);var Jt=f(Lt,xt),zt=f(Lt,Pt),Qt=f(Lt,yt),Zt=f(Lt,Dt),$t=f(Lt,kt);wt.uniform1f(l($t,"S"),Wt);for(var te,ee,ae,re,ne,oe,ie,se=f(Lt,It),fe=E(),ce=E(),he=E(),le=E(),ue=E(),ve=E(),me=v(),Me=0,de=[Bt/2,Yt/2,0,0,0],Ee=[],pe=[],ge=[],Ae=[],be=[],Te=0,Re=0,Se=0,xe=0,Ie=-1e4,De=0,Pe=0,ye=0,ke=0,Le=0,we=0,Ne=0,Oe=0,_e=0,Ge=0,Ce=0,Fe=0,Ue=0,Be=1,Ye=1,He=0,We=localStorage.ba_pl&&parseInt(localStorage.ba_pl),Xe=-9999,qe=-9999,Ke=-9999,je={},Ve=gt([0,.06,.18,,.33,.5,.23,-.04,-.24,,,-.02,,.37,-.2199,,,,.8,,,,,.3]),Je=gt([,,.12,,.13,.16,,,,,,,,,,,,,.7,,,,,.5]),ze=gt([,,.12,,.13,.165,,,,,,,,,,,,,.7,,,,,.5]),Qe=gt([3,,.35,.5369,.5,.15,,-.02,,,,-.7444,.78,,,.7619,,,.1,,,,,.5]),Ze=gt([3,,.38,.5369,.52,.18,,-.02,,,,-.7444,.78,,,.7619,,,.1,,,,,.5]),$e=gt([2,.07,.04,,.24,.25,,.34,-.1999,,,-.02,,.3187,,,-.14,.04,.85,,.28,.63,,.5]),ta=gt([1,,.04,,.45,.14,.06,-.06,.02,.87,.95,-.02,,.3187,,,-.14,.04,.5,,,,,.4]),ea=gt([0,.11,.37,,.92,.15,,-.06,-.04,.29,.14,.1,,.5047,,,,,.16,-.02,,,,.7]),aa=gt([0,,.0941,.29,.42,.563,,,,,,.4399,.5658,,,,,,1,,,,,.5]),ra=gt([2,.07,.1,,.2,.75,.35,-.1,.12,,,-.02,,,,,-.06,-.0377,.26,,,.8,,.7]),na=gt([2,.05,.74,,.33,.5,,,,.46,.29,,,,,,,,1,,,,,.3]),oa=gt([0,.12,.8,.48,.77,.92,,-.12,-.0999,,,-.4,.2,.3396,,.65,,,.93,-.02,,,,.38]),ia=0;99>ia;++ia)je[ia]=0;var sa=0;lt?addEventListener("touchstart",function(t){t.preventDefault(),x(t.changedTouches[0])}):(addEventListener("click",function(t){t.preventDefault(),x(t)}),addEventListener("keydown",function(t){je[t.which]=1}),addEventListener("keyup",function(t){je[t.which]=0}));for(var fa,ca,ha,la,ua=0,va=[],ma=0;26>ma;ma++)va.push(65+ma);va.sort(function(){return Math.random()-.5});var Ma,da,Ea=[[8,0],[7,5],[0,9],[7,14]],pa=[[15,14],[22,9],[15,5],[14,0]],ga=Ea.concat(pa).concat(Ea).concat([,]).concat(pa).concat([,[7,5],[15,5],,[0,9],[22,9]]),Aa=[[[-11,-11],[4,-13],[6,-6],[14,0],[14,8],[6,8],[-6,14],[-14,0]],[[-8,13],[0,-13],[8,13],[0,11],[-8,13],,[-10,-2],[10,2],,[10,-2],[-10,2],,],ga.map(function(t){return t?[t[0]-11,t[1]-7]:t})],ba=0;N(),requestAnimationFrame(ot),ht&&addEventListener("resize",function(){Ie=-1,We=0,Pe+=2,Ae=[],console.log("player=",Pe)});var Ta,Ra=-9999}();