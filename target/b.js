!function(){function t(t){return t<-Math.PI?t+2*Math.PI:t>Math.PI?t-2*Math.PI:t}function a(t,a,r){var e=Math.max(0,Math.min(1,(r-t)/(a-t)));return e*e*(3-2*e)}function r(t){return(9>=t?"0":"")+t}function e(t,a){mt.beginPath();for(var r=1,e=0;t&&e<t.length;++e){var o=t[e];o?(r?mt.moveTo(o[0],o[1]):mt.lineTo(o[0],o[1]),r=0):r=1}a||mt.closePath()}function o(t,a,r){var o=11*a*t.length;mt.translate(r?r>0?0:-o:-o/2,0);for(var n=0;n<t.length;n++)e(lt[t[n]]&&lt[t[n]].map(function(t){return t&&[4*a*t[0],5*a*t[1]]}),1),mt.lineJoin="round",mt.stroke(),mt.translate(11*a,0)}function n(t,a){var r,e=St.VERTEX_SHADER,o=t;r=St.createShader(e),St.shaderSource(r,o),St.compileShader(r);var n=r;if(st&&!St.getShaderParameter(r,St.COMPILE_STATUS))throw St.getShaderInfoLog(r);e=St.FRAGMENT_SHADER,o=a,r=St.createShader(e),St.shaderSource(r,o),St.compileShader(r);var i=r;if(st&&!St.getShaderParameter(r,St.COMPILE_STATUS))throw St.getShaderInfoLog(r);var s=St.createProgram();if(St.attachShader(s,n),St.attachShader(s,i),St.linkProgram(s),st&&!St.getProgramParameter(s,St.LINK_STATUS))throw St.getProgramInfoLog(s);St.useProgram(s);var c=St.getAttribLocation(s,"p");return St.enableVertexAttribArray(c),St.vertexAttribPointer(c,2,St.FLOAT,!1,0,0),[s]}function i(t){St.useProgram(t[0])}function s(t,a){return t[a]||(t[a]=St.getUniformLocation(t[0],a))}function f(){var t=St.createTexture();return St.bindTexture(St.TEXTURE_2D,t),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MIN_FILTER,St.LINEAR),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MAG_FILTER,St.LINEAR),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_S,St.CLAMP_TO_EDGE),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_T,St.CLAMP_TO_EDGE),t}function h(t,a){St.bindTexture(St.TEXTURE_2D,t),St.texImage2D(St.TEXTURE_2D,0,St.RGBA,St.RGBA,St.UNSIGNED_BYTE,a)}function l(t,a){return St.activeTexture(St.TEXTURE0+a),St.bindTexture(St.TEXTURE_2D,t),a}function v(){var t=St.createFramebuffer();St.bindFramebuffer(St.FRAMEBUFFER,t);var a=f();return St.texImage2D(St.TEXTURE_2D,0,St.RGBA,Lt,_t,0,St.RGBA,St.UNSIGNED_BYTE,null),St.framebufferTexture2D(St.FRAMEBUFFER,St.COLOR_ATTACHMENT0,St.TEXTURE_2D,a,0),[t,a]}function m(t){St.bindFramebuffer(St.FRAMEBUFFER,t[0])}function M(t){return t[1]}function E(){this.setSettings=function(t){for(var a=0;24>a;a++)this[String.fromCharCode(97+a)]=t[a]||0;this.c<.01&&(this.c=.01);var r=this.b+this.c+this.e;if(.18>r){var e=.18/r;this.b*=e,this.c*=e,this.e*=e}}}function p(){this._params=new E;var t,a,r,e,o,n,i,s,c,f,h,l;this.reset=function(){var t=this._params;e=100/(t.f*t.f+.001),o=100/(t.g*t.g+.001),n=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(h=.5-t.n/2,l=5e-5*-t.o),s=1+t.l*t.l*(t.l>0?-.9:10),c=0,f=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var e=this._params;return t=e.b*e.b*1e5,a=e.c*e.c*1e5,r=e.e*e.e*1e5+12,3*((t+a+r)/3|0)},this.synthWave=function(v,u){var m=this._params,M=1!=m.s||m.v,d=m.v*m.v*.1,E=1+3e-4*m.w,p=m.s*m.s*m.s*.1,g=1+1e-4*m.t,b=1!=m.s,A=m.x*m.x,T=m.g,S=m.q||m.r,R=m.r*m.r*m.r*.2,I=m.q*m.q*(m.q<0?-1020:1020),x=m.p?((1-m.p)*(1-m.p)*2e4|0)+32:0,D=m.d,P=m.j/2,y=m.k*m.k*.01,k=m.a,L=t,_=1/t,N=1/a,w=1/r,O=5/(1+m.u*m.u*20)*(.01+p);O>.8&&(O=.8),O=1-O;for(var G,C,U,F,B,Y,H=!1,W=0,X=0,q=0,K=0,j=0,V=0,J=0,z=0,Q=0,Z=0,$=new Array(1024),tt=new Array(32),at=$.length;at--;)$[at]=0;for(var at=tt.length;at--;)tt[at]=2*Math.random()-1;for(var at=0;u>at;at++){if(H)return at;if(x&&++Q>=x&&(Q=0,this.reset()),f&&++c>=f&&(f=0,e*=s),n+=i,e*=n,e>o&&(e=o,T>0&&(H=!0)),C=e,P>0&&(Z+=y,C*=1+Math.sin(Z)*P),C|=0,8>C&&(C=8),k||(h+=l,0>h?h=0:h>.5&&(h=.5)),++X>L)switch(X=0,++W){case 1:L=a;break;case 2:L=r}switch(W){case 0:q=X*_;break;case 1:q=1+2*(1-X*N)*D;break;case 2:q=1-X*w;break;case 3:q=0,H=!0}S&&(I+=R,U=0|I,0>U?U=-U:U>1023&&(U=1023)),M&&E&&(d*=E,1e-5>d?d=1e-5:d>.1&&(d=.1)),Y=0;for(var rt=8;rt--;){if(J++,J>=C&&(J%=C,3==k))for(var et=tt.length;et--;)tt[et]=2*Math.random()-1;switch(k){case 0:B=h>J/C?.5:-.5;break;case 1:B=1-J/C*2;break;case 2:F=J/C,F=6.28318531*(F>.5?F-1:F),B=1.27323954*F+.405284735*F*F*(0>F?1:-1),B=.225*((0>B?-1:1)*B*B-B)+B;break;case 3:B=tt[Math.abs(32*J/C|0)]}M&&(G=V,p*=g,0>p?p=0:p>.1&&(p=.1),b?(j+=(B-V)*p,j*=O):(V=B,j=0),V+=j,K+=V-G,K*=1-d,B=K),S&&($[z%1024]=B,B+=$[(z-U+1024)%1024],z++),Y+=B}Y*=.125*q*A,v[at]=Y>=1?32767:-1>=Y?-32768:32767*Y|0}return u}}function b(t){if(!ct){var a=new Audio;return setTimeout(function(){a.src=jsfxr(t)},300),a}}function A(t){ct||t.play()}function T(){var t=Math.floor((innerHeight-Dt)/2);t!==Gt&&(Gt=t,d.style.marginTop=t+"px")}function S(t){if(Math.abs(Math.cos(t[2]))<t[9]){var a=X(t),r=K(t),e=Math.max(0,Math.min(a[0],Lt)),o=Math.max(0,Math.min(a[1],_t)),n=.005*t[3]*(.5+.5*Math.random()),i=t[6],s=t[5];return va.push([e,o,r,n,s,i]),A(Ht),1}A(Wt)}function R(){va=[];for(var t=0;8>t;++t){var a=Math.floor(1.5+3*Math.random());va[t]=[Lt*Math.random(),_t*Math.random(),2*Math.PI*Math.random(),.02+.02*Math.random(),D(a),a]}}function I(){var t=Ma.reduce(function(t,a){return a[6]},0);return Math.random()<.01*fa*Math.exp(-t*(1+5*Math.exp(-(Ra-1)/3)-.2*Math.exp(-Math.abs(Ra-20)/20)))*(1-Math.exp(-Ta/5e3))?x():void 0}function x(){var t,a=Math.random()*Nt,r=[];for(t=0;t<Ma.length;++t){var e=Ma[t],o=e[0]%Nt;if(o>a-60&&a+60>o)return 0;r.push(e[7])}var n=[];for(t=65;91>t;t++)-1==r.indexOf(t)&&n.push(t);if(!n.length)return 0;var i=1-Math.exp(-Ra/5),s=1-Math.exp((1-Ra)/20);Math.random()>i&&(s*=Math.random());var c=s+Math.random()*(i-s),f=s+Math.random()*(i-s),h=s+Math.random()*(i-s),l=2>Ra?0:Math.PI*(.5*Math.random()+.8*Math.random()*c)*c,v=Math.floor(2+3*Math.random()*Math.random()+4*Math.random()*Math.random()*Math.random()),u=Ra>2&&l>Math.exp(-Ra/4)&&Math.random()>.5+.5*((Ra-3)%8)/8-.4*Math.exp(-Ra/10)?.9-.5*f-.2*c:1;return 2==Ra&&(l=.2+Math.random()),3==Ra&&(l=.2+Math.random(),u=.5+.4*Math.random()),Ma.push([a,.1,2*Math.PI*Math.random(),30*Math.random(),.002+.001*(Math.random()+.5*v*Math.random())*h-.001*c,D(v),v,n[Math.floor(Math.random()*n.length)],l,u,0]),1}function D(t){for(var a=4+2*t,r=10*t,e=[],o=0;a>o;++o){var n=r*(.4+.6*Math.random()),i=2*Math.PI*o/a;e.push([n*Math.cos(i),n*Math.sin(i)])}return e}function P(t){A(Math.random()<.5?Bt:Yt);for(var a=Math.floor(19+9*Math.random()),r=0;a>r;++r){var e=30*Math.random()-10,o=(Math.random()+2*Math.PI*r)/a;da.push([t[0]+e*Math.cos(o),t[1]+e*Math.sin(o),o,.06,Math.random()<.3?0:1e3])}}function y(t){var a=va[t];va.splice(t,1);var r=a[5];if(r>1)for(var e=Math.round(2+1.5*Math.random()),o=0;e>o;o++){var n=Math.random()+2*Math.PI*o/e;va.push([a[0]+10*Math.cos(n),a[1]+10*Math.sin(n),n,.8*a[3],D(r-1),r-1])}}function k(t,a,r){var e=Math.cos(r),o=Math.sin(r);ma.push([t[0]+14*e,t[1]+14*o,t[2]+a*e,t[3]+a*o,1e3,0])}function L(t){t[0]+=t[2]*fa,t[1]+=t[3]*fa}function _(t){var a=Math.cos(t[2]),r=Math.sin(t[2]),e=fa*t[3];t[0]+=e*a,t[1]+=e*r}function N(t,a,r){var e=100;(t[0]<-e||t[1]<-e||t[0]>Lt+e||t[1]>_t+e)&&r.splice(a,1)}function w(t,a,r){(t[4]-=fa)<0&&r.splice(a,1)}function O(t){t[0]<0?t[0]+=Lt:t[0]>Lt&&(t[0]-=Lt),t[1]<0?t[1]+=_t:t[1]>_t&&(t[1]-=_t)}function G(t,a,r){var e=t[0]-a[0],o=t[1]-a[1];return r*r>e*e+o*o}function C(){Ea||(Ea=ha,Sa++,Ga[1]++,localStorage.ba_ach=Ga)}function U(t,a){var r=t[0]-a[0],e=t[1]-a[1];return Math.sqrt(r*r+e*e)}function F(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function B(t){t[10]||(t[0]+=.1*fa,t[2]+=t[4]*fa,t[3]=t[3]<10?60:t[3]*(1-8e-4*fa))}function Y(t){if(t[4]-=fa,t[4]<0&&(t[4]=500+300*Math.random(),!Ea)){var a=Math.atan2(la[1]-t[1],la[0]-t[0]);if(Math.random()<.2){var r=2*Math.PI*Math.random();t[2]=.08*Math.cos(r),t[3]=.08*Math.sin(r)}k(t,.3+.1*Math.random(),a+.6*Math.random()-.3)}}function H(a,r){function e(t,a){return u>m?0>u==0>t?-1:1:0>m==0>a?-1:1}var o,n,i,s=Pa,c=Da;Pa=0,xa=0,Da=0;var f,h,l,v,u=Math.cos(la[4]),m=Math.sin(la[4]),M=Math.sqrt(la[2]*la[2]+la[3]*la[3]),d=[Lt/2-la[0],_t/2-la[1]],E=F(d),p=Math.atan2(d[1],d[0]),g=100+500*Math.random(),b=[la[0]+g*la[2],la[1]+g*la[3]],A=0;for(Ua=0;Ua<va.length;++Ua){var T=va[Ua];if(!(T[0]<0||T[1]<0||T[0]>Lt||T[1]>_t)){var S=[].concat(T);S[0]+=Math.cos(T[2])*T[3]*g,S[1]+=Math.sin(T[2])*T[3]*g;var R=U(T,la)-(10+10*T[5]),I=U(S,b)-(10+10*T[5]);R-I>g/200&&(80>R||30+30*r>I)&&(!f||h>I)&&(f=T,l=T,h=I,A++)}if(!(T[5]>2&&30>R)||100>I){var x=T[5];(!f||v>x)&&(l=S,v=x)}}for(Ua=0;Ua<ua.length;++Ua){var D=ua[Ua];Math.random()<.02*fa*(a+r+1)&&(l=D)}if(ya=1-Math.exp(-va.length/10)+(1-Math.exp(-A/3)),xa=Ta>3e3&&Math.random()<1e-4*fa*ya,Pa=Ta>1e3&&Math.random()<.005*fa?Math.random()<.5?0:Math.random()<.5?1:-1:s,Da=Ta>2e3&&Math.random()<.005*fa*(1-a)?Math.random()<.5?1:-1:c,E>100-80*r&&(i=t(p-la[4]),Math.abs(i)>2*Math.PI/3?Da=-1:Math.abs(i)>Math.PI/3?Pa=0>i?-1:1:Da=1),-Math.exp(-E/80)+Math.exp(-M)+(1-a)*ya*Math.random()<Math.random()&&(Da=e(la[2],la[3])),f&&a>Math.random()-.02*fa&&(o=f[0]-la[0],n=f[1]-la[1],Da=e(o,n)),l&&r>Math.random()-.01*fa){o=l[0]-la[0],n=l[1]-la[1],i=t(Math.atan2(n,o)-la[4]);var P=Math.abs(i);Math.random()<.06*fa*P&&(Pa=i>0?1:-1),xa=Math.random()<.005*fa*(Math.exp(10*-P)+ya+a)}}function W(){if(Ta+=fa,ha-Ka>200&&(Ka=ha,ua.length&&A(jt)),Oa)Ta>0&&Fa&&140<Fa[1]&&Fa[1]<280&&(Fa[0]<Lt/2?(Ra=Oa-1,Ta=Oa=0):(Ta=Oa=0,localStorage.ba_pl="")),Fa=0;else{var a,r=0;if(!Ea&&Ta>0&&ha-qa>5e3&&Ra>1&&!ua.length){var e=2*Ra,o=3*wa/e;wa>e&&(qa=ha,Na=wa=0,ua.push([Lt*Math.random(),_t*Math.random(),0,0,0]),Ga[2]++,localStorage.ba_ach=Ga),Wa+=2*o*Math.PI*fa/1e3,Math.sin(Wa)>0!==Xa&&(Xa=!Xa,A(Xa?Ut:Ft))}if(0==Ia&&Ta>0&&(pa=ha,Ia=4,Ra++,ba=0,Aa=0,va=[],ua=[],A(qt),Ra>1&&(localStorage.ba_pl=Ra)),Ta>1e3&&!Ea){for(a=0;a<Ma.length;a++){var n=Ma[a];if(n[10])ha-n[10]>1e3&&Ma.splice(a--,1);else{var i=X(n),s=Fa&&G(Fa,i,40+10*n[6]);(Ca[n[7]]||s)&&(_a=Fa=Ca[n[7]]=0,S(n)?(Ga[0]++,localStorage.ba_ach=Ga,Ra>3&&wa++,Ma.splice(a--,1)):(wa=0,n[10]=ha))}}for(Fa=0;I(););}if(Ea&&ha-Ea>2e3+(Ia>1?0:2e3)&&(Ea=0,la=[Lt/2,_t/2,0,0,0],--Ia?pa=ha:(Ta=-5e3,R(),ua=[],A(Xt))),ma.forEach(function(t,a){t[5]||r++;var e;if(t[4]<900){if(!Ea&&G(t,la,20))return P(t),ma.splice(a,1),void C();for(e=0;e<ua.length;++e){var o=ua[e];if(G(t,o,20))return P(t),ma.splice(a,1),void ua.splice(e,1)}}for(e=0;e<va.length;++e){var n=va[e],i=n[5];if(G(t,n,10*i)){P(t),ma.splice(a,1),y(e);var s=20*Math.floor(.4*(6-i)*(6-i));return ba+=s,Aa+=s,Aa>1e4&&(Ia++,Aa=0),void(ga=Math.max(ga,ba))}}}),!Ea&&Ta>0&&va.forEach(function(t,a){G(t,la,10+10*t[5])&&(1e3>ha-pa?y(a):(P(la),C()))}),ya=0,!Ea&&Ta>0){var c=Math.cos(la[4]),f=Math.sin(la[4]),h=1.4-Math.exp((1-Ra)/4)+1-Math.exp((1-Ra)/8),l=Math.random(),v=Math.exp((1-Ra)/16);l=l*v+.5*(1-v);var u=Math.min(1,l*h),m=h-u;H(u,m),la[2]+=Da*fa*2e-4*c,la[3]+=Da*fa*2e-4*f,la[4]=t(la[4]+Pa*fa*.005),3>r&&xa&&(A(Ct),k(la,.3,la[4]))}}L(la),va.forEach(_),ua.forEach(L),ma.forEach(L),da.forEach(_),ua.forEach(Y),Ma.forEach(B),da.forEach(w),O(la),va.forEach(Ta>0&&!Oa?N:O),ua.forEach(O),ma.forEach(w),ma.forEach(O),La+=.04*(ya-La),ka+=.04*(Da-ka)}function X(t){var a,r,e=t[0]%Nt,o=Lt+kt,n=_t+kt;o>e?(a=e,r=0):(e-=o,n>e?(a=o,r=e):(e-=n,o>e?(a=o-e,r=n):(e-=o,a=0,r=n-e)));var i=[-kt/2+a,-kt/2+r];if(t[10]){var s=ha-t[10],c=Math.atan2(la[1]-i[1],la[0]-i[0]),f=.3*s;i[0]-=Math.cos(c)*f,i[1]-=Math.sin(c)*f}return i}function q(t){var a=X(t),r=Math.atan2(la[1]-a[1],la[0]-a[0]);return r}function K(t){return Math.cos(t[2])*t[8]+q(t)}function j(t){if(mt.strokeStyle="#f00",mt.globalAlpha=.4,mt.rotate(t[4]),Ea){mt.lineWidth=2;var a=(ha-Ea)/200;e([[-6,-6-.5*a],[3,-3-.9*a]]),mt.stroke(),8>a&&(e([[3+.4*a,-3-.8*a],[12+.4*a,0-.5*a]]),mt.stroke()),e([[12,0+.4*a],[3,3+a]]),mt.stroke(),9>a&&(e([[1,5+a],[-6,6+a]]),mt.stroke()),7>a&&(e([[-6-a,-6],[-6-a,6]]),mt.stroke())}else e([[-6,-6],[12,0],[-6,6],[-5,0]]),mt.stroke(),ka>.2&&(e([[-7,2*Math.random()-1],[-7-5*ka,4*Math.random()-2]]),mt.stroke()),-.2>ka&&(e([[2,-5],[2-5*ka,-7],,[2,5],[2-5*ka,7]]),mt.stroke())}function V(t){mt.globalAlpha=.2,mt.strokeStyle="#f00",e(t[4]),mt.stroke()}function J(){mt.globalAlpha=.4,mt.strokeStyle="#f00",e(Ja),mt.stroke()}function z(){mt.globalAlpha=1-Math.random()*Math.random(),mt.fillStyle="#00f",mt.beginPath(),mt.arc(0,0,2+2.5*Math.random(),0,2*Math.PI),mt.fill()}function Q(){mt.globalAlpha=.8,mt.fillStyle="#f00",mt.beginPath(),mt.arc(0,0,1,0,2*Math.PI),mt.fill()}function Z(){if(mt.save(),mt.fillStyle=mt.strokeStyle="#0f0",mt.globalAlpha=.3,mt.save(),mt.translate(Lt/2,20),o(r(ga),.6),mt.restore(),mt.save(),mt.translate(50,20),o(r(ba),1.5,1),mt.restore(),0>Ta||Oa)mt.save(),mt.translate(Lt-50,20),o(r(0),1.5,-1),mt.restore(),mt.save(),mt.translate(Lt/2-160,.7*_t),e([[0,2],[0,18]]),mt.stroke(),mt.translate(40,0),o("COIN",2,1),mt.translate(40,0),e([[0,2],[0,18]]),mt.stroke(),mt.translate(40,0),o("PLAY",2,1),mt.restore();else for(var t=1;Ia>t;t++)mt.save(),mt.translate(60+10*t,50),mt.rotate(-Math.PI/2),e([[-4,-4],[10,0],[-4,4],[-3,0]]),mt.stroke(),mt.restore();Ea&&1==Ia&&(mt.save(),mt.lineWidth=2,mt.translate(Lt/2,140),o("GAME OVER",2),mt.restore()),Oa&&Ta>0&&(mt.save(),mt.translate(Lt/2,100),o("CONTINUE GAME ?",2),mt.restore(),mt.save(),mt.globalAlpha=1,mt.translate(Lt/4,180),o("YES",ct?4:6),mt.restore(),mt.save(),mt.globalAlpha=1,mt.translate(3*Lt/4,180),o("NO",ct?4:6),mt.restore()),mt.save(),mt.translate(Lt/2,_t-14),o("2015 GREWEB INC",.6),mt.restore(),0>Ta&&800>ha%1e3&&(mt.save(),mt.translate(Lt-20,_t-24),o(ct?"MOBILE":"DESKTOP",.6,-1),mt.restore(),mt.save(),mt.translate(Lt-20,_t-14),o("VERSION",.6,-1),mt.restore()),mt.restore()}function $(){mt.save(),mt.fillStyle=mt.strokeStyle="#f00",mt.globalAlpha=.03,mt.translate(Lt/2,_t/2),mt.beginPath(),mt.arc(0,0,4,0,2*Math.PI),mt.fill(),mt.stroke(),mt.beginPath(),mt.arc(0,0,12,0,2*Math.PI),mt.stroke(),mt.beginPath(),mt.arc(0,0,12,4,6),mt.stroke(),mt.beginPath(),mt.arc(0,0,12,1,2),mt.stroke(),mt.restore()}function tt(){mt.save(),mt.fillStyle="#000",mt.fillRect(0,0,Lt,_t),mt.restore(),nt(va,V),nt(ua,J),nt(ma,z),nt(da,Q),Ta>0&&!Oa&&(mt.save(),ot(la),j(la),mt.restore()),Z(),$()}function at(t){var a=q(t),r=Math.cos(t[2]),n=r*t[8]+a,i=10*t[6],s=Math.abs(r)<t[9];if(Ta>0&&Ia&&!Ea&&!t[10]){mt.lineWidth=1+t[3]/60,mt.strokeStyle=s?"#7cf":"#f66",t[8]>.1&&(mt.save(),mt.rotate(a),mt.strokeStyle="#f66",mt.beginPath(),mt.arc(0,0,i+10,-t[8],-t[8]*t[9]),mt.stroke(),mt.beginPath(),mt.arc(0,0,i+10,t[8]*t[9],t[8]),mt.stroke(),mt.strokeStyle="#7cf",mt.beginPath(),mt.arc(0,0,i+10,-t[8]*t[9],t[8]*t[9]),mt.stroke(),e([[i+8,0],[i+12,0]]),mt.stroke(),mt.restore()),mt.save(),mt.rotate(n),mt.save();var c=60+i,f=t[3]+i;mt.globalAlpha=.2,e([[0,0],[c,0]]),mt.stroke(),mt.restore(),e([[0,0],[f,0]]),mt.stroke();var h=6;e([[c-h,h],[c,0],[c-h,-h]],1),mt.stroke(),mt.restore()}else mt.strokeStyle=t[10]?"#f66":"#999";mt.save(),e(t[5]),mt.fillStyle="#000",mt.fill(),mt.stroke(),mt.restore();var l=[0,0];t[5].forEach(function(t){l[0]+=t[0],l[1]+=t[1]}),!ct&&Ta>0&&(mt.save(),mt.translate(l[0]/t[5].length+1,l[1]/t[5].length-5),o(String.fromCharCode(t[7]),1),mt.restore())}function rt(){function t(t){a="PLAYER "+t,r=["GENIOUS PLAYER!!","EXPERIENCED PLAYER!!","GOOD PLAYER. GET READY","NICE PLAYER.","BEGINNER.","VERY BEGINNER. EASY KILL"][Math.floor(6*Math.exp(-t/8))]}var a="",r="",n="#f7c",i="#7fc";if(Ra)Ea?1==Ia?(i="#f66",a="GOOD JOB !!!",r="THE DUDE IS TIRED"):2==Ia?(i="#f66",a="OK...",r="ONE MORE TIME !"):Ba&&ha-Qa>3e3?a=Ba:(a=["!!!","GREAT!","COOL!","OMG!","AHAH!","RUDE!","EPIC!","WICKED!","SHAME!","HEHEHE!","BWAHAHA!"],Ba=a=a[Math.floor(Math.random()*a.length)],Qa=0):0>Ta?(a="INCOMING NEW PLAYER...",r="25¢ 25¢ 25¢ 25¢ 25¢"):6e3>Ta&&4==Ia?t(Ra):(i="#f66",Ba&&3e3>ha-Qa?r=Ba:_a?Ta>1e4&&(n=i="#7cf",a=ct?"TAP ON ASTEROIDS":"PRESS ASTEROIDS LETTER",r="TO SEND THEM TO THE GAME"):2==Ra&&Ta>5e3?(i=n="#7cf",a="LETS TRAIN WITH...",r="AIMING"):3==Ra&&Ta>5e3?(n="#7cf",i="#f66",a="CAREFUL ABOUT THE",r="RED AIMING"):4==Ra&&Ta>5e3&&Na?(n=i="#f66",a="MAKE COMBOS TO SEND",r="AN UFO !!!"):Ra>5&&(Ba=0,Math.random()<1e-4*fa&&ha-Qa>8e3&&(r=["COME ON! KILL IT!","JUST DO IT!","I WANT ¢¢¢","GIVE ME SOME ¢¢¢","DO IT!","DESTROY IT!"],Ba=r=r[Math.floor(Math.random()*r.length)],Qa=ha)));else if(-7e3>Ta)a="BEHIND ASTEROIDS",r="THE DARK SIDE";else if(-3500>Ta)n=i="#7cf",a="SEND ASTEROIDS TO MAKE",r="PLAYERS WASTE THEIR MONEY";else if(Oa)0>Ta&&(Ta=0),t(Oa);else{for(var s=Math.min(25,Math.floor((Ta+3500)/80)),c=0;s>c;c++)a+=".";Ta>-2e3&&(r="A NEW PLAYER!")}r&&Ya!==r&&"#f66"===i&&A(Kt),mt.save(),mt.translate(xt-Pt,2),mt.lineWidth=2,mt.strokeStyle="#7cf",o(25*(Ta>0&&Oa||Ra)+"¢",2,-1),mt.restore(),mt.save(),mt.translate(Pt,ct?40:2),mt.lineWidth=ha%600>300?2:1,mt.save(),mt.strokeStyle=n,o(a,ct?1.5:2,1),mt.restore(),mt.save(),mt.strokeStyle=i,mt.translate(0,ct?30:40),o(Ya=r,ct?1.5:2,1),mt.restore(),mt.restore(),mt.save(),mt.strokeStyle="#7cf",mt.translate(xt-Pt,Dt-20),wa&&o(wa+"x",1.5,-1),mt.restore();for(var f=0;3>f;f++){var h=Ga[f];h&&(mt.save(),mt.strokeStyle="#fc7",mt.translate(Pt+50+100*f,Dt-20),e(za[f]),mt.stroke(),mt.translate(0,-30),o(""+h,1),mt.restore())}}function et(){h(ca,g),m(na),i(Qt),St.uniform1i(s(Qt,"t"),l(ca,0)),St.drawArrays(St.TRIANGLES,0,6),m(ea),i(ta),St.uniform1f(s(ta,"pt"),Ta/1e3),St.uniform1f(s(ta,"pl"),Ra),St.uniform1f(s(ta,"ex"),La),St.drawArrays(St.TRIANGLES,0,6),m(ia),i(Jt),St.uniform1i(s(Jt,"t"),l(M(ea),0)),St.uniform2f(s(Jt,"dir"),2,2),St.drawArrays(St.TRIANGLES,0,6),m(sa),i(Jt),St.uniform1i(s(Jt,"t"),l(M(ia),0)),St.uniform2f(s(Jt,"dir"),-2,2),St.drawArrays(St.TRIANGLES,0,6),m(ia),i(Jt),St.uniform1i(s(Jt,"t"),l(M(sa),0)),St.uniform2f(s(Jt,"dir"),6,0),St.drawArrays(St.TRIANGLES,0,6),m(ea),i(Jt),St.uniform1i(s(Jt,"t"),l(M(ia),0)),St.uniform2f(s(Jt,"dir"),0,2),St.drawArrays(St.TRIANGLES,0,6),m(oa),i($t),St.uniform1i(s($t,"t"),l(M(na),0)),St.drawArrays(St.TRIANGLES,0,6),m(ia),i(Jt),St.uniform1i(s(Jt,"t"),l(M(oa),0)),St.uniform2f(s(Jt,"dir"),2,-4),St.drawArrays(St.TRIANGLES,0,6),m(oa),i(Jt),St.uniform1i(s(Jt,"t"),l(M(ia),0)),St.uniform2f(s(Jt,"dir"),4,-8),St.drawArrays(St.TRIANGLES,0,6),m(ia),i(Jt),St.uniform1i(s(Jt,"t"),l(M(na),0)),St.uniform2f(s(Jt,"dir"),1,1),St.drawArrays(St.TRIANGLES,0,6),m(sa),i(Jt),St.uniform1i(s(Jt,"t"),l(M(ia),0)),St.uniform2f(s(Jt,"dir"),-1,1),St.drawArrays(St.TRIANGLES,0,6),m(ia),i(Zt),St.uniform1i(s(Zt,"t"),l(M(sa),0)),St.uniform1i(s(Zt,"r"),l(M(ra),1)),St.drawArrays(St.TRIANGLES,0,6),m(ra),i(zt),St.uniform1i(s(zt,"t"),l(M(ia),0)),St.drawArrays(St.TRIANGLES,0,6),St.bindFramebuffer(St.FRAMEBUFFER,null),i(aa),St.uniform1i(s(aa,"G"),l(M(na),0)),St.uniform1i(s(aa,"R"),l(M(ra),1)),St.uniform1i(s(aa,"B"),l(M(sa),2)),St.uniform1i(s(aa,"L"),l(M(oa),3)),St.uniform1i(s(aa,"E"),l(M(ea),4)),St.uniform1f(s(aa,"s"),Ra?1:a(-4e3,-3e3,Ta)),St.drawArrays(St.TRIANGLES,0,6)}function ot(t){mt.translate(t[0],t[1])}function nt(t,a){for(var r=0;r<t.length;++r)mt.save(),ot(t[r]),a(t[r]),mt.restore()}function it(t){requestAnimationFrame(it),Ha||(Ha=t),fa=Math.min(100,t-Ha),Ha=t,T(),ha+=fa,W(),mt=It,mt.save(),mt.scale(Ot,Ot),mt.save(),mt.clearRect(0,0,xt,Dt),rt(),mt.translate(Pt,yt),Ma.forEach(function(t){mt.save(),ot(X(t)),at(t),mt.restore()}),mt.restore(),mt.restore(),mt=Rt,mt.save(),tt(),mt.restore(),et()}var st=!1,ct="ontouchstart"in document,ft=[[0,0],[2,0],[2,2],[0,2],[0,0]],ht=[[2,0],[0,0],[0,1],[2,1],[2,2],[0,2]],lt=[ft,[[1,0],[1,2]],[[0,0],[2,0],[2,1],[0,1],[0,2],[2,2]],[[0,0],[2,0],[2,2],[0,2],,[0,1],[2,1]],[[0,0],[0,1],[2,1],,[2,0],[2,2]],ht,[[0,0],[0,2],[2,2],[2,1],[0,1]],[[0,0],[2,0],[2,2]],[[0,0],[2,0],[2,2],[0,2],[0,0],,[0,1],[2,1]],[[2,2],[2,0],[0,0],[0,1],[2,1]]];[[[0,2],[0,2/3],[1,0],[2,2/3],[2,2],,[0,4/3],[2,4/3]],[[0,1],[0,0],[4/3,0],[2,1/3],[2,2/3],[4/3,1],[0,1],[0,2],[4/3,2],[2,5/3],[2,4/3],[4/3,1]],[[2,0],[0,0],[0,2],[2,2]],[[0,0],[1,0],[2,2/3],[2,4/3],[1,2],[0,2],[0,0]],[[2,0],[0,0],[0,2],[2,2],,[0,1],[1.5,1]],[[2,0],[0,0],[0,2],,[0,1],[2,1]],[[2,2/3],[2,0],[0,0],[0,2],[2,2],[2,4/3],[1,4/3]],[[0,0],[0,2],,[2,0],[2,2],,[0,1],[2,1]],[[0,0],[2,0],,[1,0],[1,2],,[0,2],[2,2]],[[2,0],[2,2],[1,2],[0,4/3]],[[0,0],[0,2],,[2,0],[0,1],[2,2]],[[0,0],[0,2],[2,2]],[[0,2],[0,0],[1,2/3],[2,0],[2,2]],[[0,2],[0,0],[2,2],[2,0]],ft,[[0,2],[0,0],[2,0],[2,1],[0,1]],[[0,0],[2,0],[2,4/3],[1,2],[0,2],[0,0],,[2,2],[1,4/3]],[[0,2],[0,0],[2,0],[2,1],[0,1],[2,2]],ht,[[0,0],[2,0],,[1,0],[1,2]],[[0,0],[0,2],[2,2],[2,0]],[[0,0],[1,2],[2,0]],[[0,0],[0,2],[1,4/3],[2,2],[2,0]],[[0,0],[2,2],,[2,0],[0,2]],[[0,0],[1,2/3],[2,0],,[1,2/3],[1,2]],[[0,0],[2,0],[0,2],[2,2]]].forEach(function(t,a){lt[String.fromCharCode(65+a)]=t});var vt=lt["."]=[[1,1.8],[1,2]];lt["!"]=[[1,0],[1,1.5],,].concat(vt),lt["?"]=[[0,0],[2,0],[2,1],[1,1],[1,1.5],,].concat(vt),lt.x=[[0,1],[2,2],,[2,1],[0,2]],lt["¢"]=[[1,0],[1,2],,[1.5,.5],[.5,.5],[.5,1.5],[1.5,1.5]];var ut=new p;jsfxr=function(t){ut._params.setSettings(t);var a=ut.totalReset(),r=new Uint8Array(4*((a+1)/2|0)+44),e=2*ut.synthWave(new Uint16Array(r.buffer,44),a),o=new Uint32Array(r.buffer,0,44);o[0]=1179011410,o[1]=e+36,o[2]=1163280727,o[3]=544501094,o[4]=16,o[5]=65537,o[6]=44100,o[7]=88200,o[8]=1048578,o[9]=1635017060,o[10]=e,e+=44;for(var n=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="data:audio/wav;base64,";e>n;n+=3){var c=r[n]<<16|r[n+1]<<8|r[n+2];s+=i[c>>18]+i[c>>12&63]+i[c>>6&63]+i[63&c]}return s};var mt,Mt="attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,0.0,1.0);uv=0.5*(p+1.0);}",dt="precision highp float;varying vec2 uv;uniform sampler2D t;uniform vec2 dim;uniform vec2 dir;void main(){vec4 a=vec4(0.0);vec2 b=vec2(1.3846153846)*dir;vec2 c=vec2(3.2307692308)*dir;a+=texture2D(t,uv)*0.2270270270;a+=texture2D(t,uv+(b/dim))*0.3162162162;a+=texture2D(t,uv-(b/dim))*0.3162162162;a+=texture2D(t,uv+(c/dim))*0.0702702703;a+=texture2D(t,uv-(c/dim))*0.0702702703;gl_FragColor=a;}",Et="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=texture2D(t,uv);}",pt="precision highp float;varying vec2 uv;uniform sampler2D G;uniform sampler2D R;uniform sampler2D B;uniform sampler2D L;uniform sampler2D E;uniform float s;float a(vec2 b,vec2 c){float d=10.0;vec2 e=b-c;return pow(abs(pow(abs(e.x),d)+pow(abs(e.y),d)),1.0/d);}void main(){vec2 f=(uv/0.98)-0.01;float g=a(uv,vec2(0.5));float h=smoothstep(0.45,0.51,g);f=mix(f,vec2(0.5),0.2*(0.6-g)-0.02*g);gl_FragColor=vec4((vec3(0.03,0.04,0.05)+mix(0.5,2.0,s)*texture2D(G,f).rgb+s*(texture2D(L,f).rgb+vec3(0.3,0.6,1.0)*(texture2D(R,f).rgb+3.0*texture2D(B,f).rgb)+0.5*texture2D(E,f).rgb))*mix(1.0,smoothstep(1.0,0.0,h),0.6),1.0);}",gt="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=vec4(step(0.9,texture2D(t,uv).r));}",bt="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){vec3 a=texture2D(t,uv).rgb;vec2 b=0.003*vec2(cos(47.0*uv.y),sin(67.0*uv.x));gl_FragColor=vec4(a.r+a.g+a.b+texture2D(t,uv+b).b);}",At="precision highp float;varying vec2 uv;uniform sampler2D t;uniform sampler2D r;void main(){vec3 a=texture2D(r,uv).rgb;gl_FragColor=vec4(a*(0.82-0.3*a.r*a.r)+texture2D(t,uv).rgb,1.0);}",Tt="precision highp float;varying vec2 uv;uniform float pt;uniform float pl;uniform float S;uniform float ex;float a(vec2 b,vec2 c){return step(length((uv-b)/c),1.0);}float d(vec2 b,vec2 c,float e){vec2 f=(uv-b)/c;return step(pow(abs(f.x),e)+pow(abs(f.y),e),1.0);}vec3 g(){return 0.1+0.3*vec3(1.0,0.9,0.7)*smoothstep(0.4,0.1,distance(uv,vec2(0.2,1.2)))+0.4*vec3(0.8,0.6,1.0)*smoothstep(0.5,0.2,distance(uv,vec2(1.3,0.7)));}vec4 h(float e,float i){vec4 b=vec4(0.0);vec2 j=vec2(min(ex,1.0),mix(min(ex,1.0),min(ex-1.0,1.0),0.5));vec4 k=0.2+0.4*pow(abs(cos(4.*e+S)),2.0)*vec4(1.0,0.7,0.3,1.0);vec4 l=vec4(0.5,0.3,0.3,1.0);vec4 m=vec4(0.3*(1.0+cos(3.*e+6.*S)),0.2*(1.0+cos(7.*e+7.*S)),0.1+0.2*(1.0+sin(7.*e+8.*S)),1.0);float n=step(sin(9.0*e+S),0.0);float o=0.02+0.02*n*cos(e+S);float p=step(i,-0.01)+step(0.01,i);float q=(1.0-p)*step(0.0,pt);vec2 r=vec2(0.5)+p*vec2(0.03*cos(4.0*pt+sin(pt)),0.05*abs(sin(3.0*pt)))+j*q*vec2(0.05*cos(pt*(1.0+0.1*sin(pt))),0.05*abs(sin(pt)));vec2 s=mix(r,vec2(0.5),0.5);r.x+=i;s.x+=i;b+=k*a(r,vec2(0.06,0.1));b*=1.0-(0.5+0.5*n)*a(r-vec2(0.0,0.04),vec2(0.03,0.01));b*=1.0-a(r+vec2(0.03,0.03),vec2(0.02,0.01));b*=1.0-a(r+vec2(-0.03,0.03),vec2(0.02,0.01));b*=1.0-0.6*a(r,vec2(0.01,0.02));b+=l*a(r+vec2(0.0,o),vec2(0.07,0.1+o));b+=q*(l+k)*a(s-vec2(-0.2+0.01*cos(5.0*pt),0.45-0.1*j.y*step(0.0,pt)*pow(abs(sin(8.0*pt*(1.0+0.2*cos(pt)))),4.0)),vec2(0.055,0.05));b+=q*(l+k)*a(s-vec2(0.2+0.01*cos(5.0*pt),0.45-0.1*j.x*step(2.0,pt)*pow(abs(cos(7.0*pt)),4.0)),vec2(0.055,0.05));b+=step(b.a,0.0)*(l+k)*d(r-vec2(0.0,0.10+0.02*n),vec2(0.05-0.01*n,0.03),4.0);vec2 t=vec2(0.16+0.04*sin(9.*e),0.27+0.02*cos(9.*e));b+=step(b.r+b.g+b.b,0.0)*m*step(1.0,d(r-vec2(0.0,0.35),t*(1.0-0.1*n),4.0)+a(r-vec2(0.0,0.35),t));return b;}void main(){float u=0.6+0.4*smoothstep(2.0,0.0,distance(pt,-2.0));vec4 b=vec4(0.0);b+=(1.0-smoothstep(-0.0,-5.0,pt))*h(pl+step(pt,0.0),-0.6*smoothstep(-1.,-5.,pt));b+=step(1.0,pl)*h(pl+step(pt,0.0)-1.0,2.0*smoothstep(-4.,-1.,pt));b*=1.0-1.3*distance(uv,vec2(0.5));gl_FragColor=vec4(u*mix(g(),b.rgb,clamp(b.a,0.0,1.0)),1.0);}",St=c.getContext("webgl")||c.getContext("experimental-webgl"),Rt=g.getContext("2d"),It=u.getContext("2d"),xt=ct?480:800,Dt=ct?600:680,Pt=ct?50:120,yt=ct?140:Pt,kt=ct?40:80,Lt=xt-2*Pt,_t=Dt-Pt-yt,Nt=2*(Lt+_t+2*kt),wt=Math.random();d.style.width=xt+"px",g.width=c.width=Lt,g.height=c.height=_t,c.style.top=yt+"px",c.style.left=Pt+"px";var Ot=ct?1:devicePixelRatio;u.width=xt*Ot,u.height=Dt*Ot,u.style.width=xt+"px",u.style.height=Dt+"px";var Gt=0,Ct=b([0,.06,.18,,.33,.5,.23,-.04,-.24,,,-.02,,.37,-.2199,,,,.8,,,,,.3]),Ut=b([,,.12,,.13,.16,,,,,,,,,,,,,.7,,,,,.5]),Ft=b([,,.12,,.13,.165,,,,,,,,,,,,,.7,,,,,.5]),Bt=b([3,,.35,.5369,.5,.15,,-.02,,,,-.7444,.78,,,.7619,,,.1,,,,,.5]),Yt=b([3,,.38,.5369,.52,.18,,-.02,,,,-.7444,.78,,,.7619,,,.1,,,,,.5]),Ht=b([2,.07,.04,,.24,.25,,.34,-.1999,,,-.02,,.3187,,,-.14,.04,.85,,.28,.63,,.5]),Wt=b([1,,.04,,.45,.14,.06,-.06,.02,.87,.95,-.02,,.3187,,,-.14,.04,.5,,,,,.4]),Xt=b([0,.11,.37,,.92,.15,,-.06,-.04,.29,.14,.1,,.5047,,,,,.16,-.02,,,,.7]),qt=b([0,,.0941,.29,.42,.563,,,,,,.4399,.5658,,,,,,1,,,,,.5]),Kt=b([2,.07,.1,,.2,.75,.35,-.1,.12,,,-.02,,,,,-.06,-.0377,.26,,,.8,,.7]),jt=b([2,.05,.8,,.05,.5,,,,.46,.29,,,,,,,,1,,,,,.5]);St.viewport(0,0,Lt,_t),St.pixelStorei(St.UNPACK_FLIP_Y_WEBGL,!0);var Vt=St.createBuffer();St.bindBuffer(St.ARRAY_BUFFER,Vt),St.bufferData(St.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),St.STATIC_DRAW);var Jt=n(Mt,dt);St.uniform2f(s(Jt,"dim"),Lt,_t);var zt=n(Mt,Et),Qt=n(Mt,bt),Zt=n(Mt,At),$t=n(Mt,gt),ta=n(Mt,Tt);St.uniform1f(s(ta,"S"),wt);var aa=n(Mt,pt),ra=v(),ea=v(),oa=v(),na=v(),ia=v(),sa=v(),ca=f();localStorage.ba_ach||(localStorage.ba_ach=[0,0,0]);var fa,ha=0,la=[Lt/2,_t/2,0,0,0],va=[],ua=[],ma=[],Ma=[],da=[],Ea=0,pa=0,ga=0,ba=0,Aa=0,Ta=-1e4,Sa=0,Ra=0,Ia=0,xa=0,Da=0,Pa=0,ya=0,ka=0,La=0,_a=1,Na=1,wa=0,Oa=localStorage.ba_pl&&parseInt(localStorage.ba_pl),Ga=localStorage.ba_ach.split(",").map(function(t){return parseInt(t,10)});R();for(var Ca={},Ua=0;99>Ua;++Ua)Ca[Ua]=0;var Fa;ct?addEventListener("touchstart",function(t){t.preventDefault();var a=c.getBoundingClientRect();t=t.changedTouches[0];var r=t.clientX-a.left,e=t.clientY-a.top;Fa=[r,e]}):(addEventListener("click",function(t){t.preventDefault();var a=c.getBoundingClientRect(),r=t.clientX-a.left,e=t.clientY-a.top;Fa=[r,e]}),addEventListener("keydown",function(t){Ca[t.which]=1}),addEventListener("keyup",function(t){Ca[t.which]=0}));var Ba,Ya,Ha,Wa=0,Xa=0,qa=0,Ka=0,ja=[[8,0],[7,5],[0,9],[7,14]],Va=[[15,14],[22,9],[15,5],[14,0]],Ja=ja.concat(Va).concat(ja).concat([,]).concat(Va).concat([,[7,5],[15,5],,[0,9],[22,9]]),za=[[[-11,-11],[4,-13],[6,-6],[14,0],[14,8],[6,8],[-6,14],[-14,0]],[[-8,13],[0,-13],[8,13],[0,11],[-8,13],,[-10,-2],[10,2],,[10,-2],[-10,2],,],Ja.map(function(t){return t?[t[0]-11,t[1]-7]:t})],Qa=0;requestAnimationFrame(it),st&&addEventListener("dblclick",function(){Ta=-1,Ra+=1,Ma=[],console.log("player=",Ra)})}();