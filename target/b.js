!function(){function t(t){return t<-Math.PI?t+2*Math.PI:t>Math.PI?t-2*Math.PI:t}function r(t,r,a){var e=Math.max(0,Math.min(1,(a-t)/(r-t)));return e*e*(3-2*e)}function a(t){return(9>=t?"0":"")+t}function e(t,r){mt.beginPath();for(var a=1,e=0;t&&e<t.length;++e){var o=t[e];o?(a?mt.moveTo(o[0],o[1]):mt.lineTo(o[0],o[1]),a=0):a=1}r||mt.closePath()}function o(t,r,a){var o=11*r*t.length;mt.translate(a?a>0?0:-o:-o/2,0);for(var n=0;n<t.length;n++)e(lt[t[n]]&&lt[t[n]].map(function(t){return t&&[4*r*t[0],5*r*t[1]]}),1),mt.lineJoin="round",mt.stroke(),mt.translate(11*r,0)}function n(t,r){var a,e=Tt.VERTEX_SHADER,o=t;a=Tt.createShader(e),Tt.shaderSource(a,o),Tt.compileShader(a);var n=a;if(st&&!Tt.getShaderParameter(a,Tt.COMPILE_STATUS))throw Tt.getShaderInfoLog(a);e=Tt.FRAGMENT_SHADER,o=r,a=Tt.createShader(e),Tt.shaderSource(a,o),Tt.compileShader(a);var i=a;if(st&&!Tt.getShaderParameter(a,Tt.COMPILE_STATUS))throw Tt.getShaderInfoLog(a);var s=Tt.createProgram();if(Tt.attachShader(s,n),Tt.attachShader(s,i),Tt.linkProgram(s),st&&!Tt.getProgramParameter(s,Tt.LINK_STATUS))throw Tt.getProgramInfoLog(s);Tt.useProgram(s);var c=Tt.getAttribLocation(s,"p");return Tt.enableVertexAttribArray(c),Tt.vertexAttribPointer(c,2,Tt.FLOAT,!1,0,0),[s]}function i(t){Tt.useProgram(t[0])}function s(t,r){return t[r]||(t[r]=Tt.getUniformLocation(t[0],r))}function f(){var t=Tt.createTexture();return Tt.bindTexture(Tt.TEXTURE_2D,t),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_MIN_FILTER,Tt.LINEAR),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_MAG_FILTER,Tt.LINEAR),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_WRAP_S,Tt.CLAMP_TO_EDGE),Tt.texParameteri(Tt.TEXTURE_2D,Tt.TEXTURE_WRAP_T,Tt.CLAMP_TO_EDGE),t}function h(t,r){Tt.bindTexture(Tt.TEXTURE_2D,t),Tt.texImage2D(Tt.TEXTURE_2D,0,Tt.RGBA,Tt.RGBA,Tt.UNSIGNED_BYTE,r)}function l(t,r){return Tt.activeTexture(Tt.TEXTURE0+r),Tt.bindTexture(Tt.TEXTURE_2D,t),r}function v(){var t=Tt.createFramebuffer();Tt.bindFramebuffer(Tt.FRAMEBUFFER,t);var r=f();return Tt.texImage2D(Tt.TEXTURE_2D,0,Tt.RGBA,kt,Nt,0,Tt.RGBA,Tt.UNSIGNED_BYTE,null),Tt.framebufferTexture2D(Tt.FRAMEBUFFER,Tt.COLOR_ATTACHMENT0,Tt.TEXTURE_2D,r,0),[t,r]}function m(t){Tt.bindFramebuffer(Tt.FRAMEBUFFER,t[0])}function M(t){return t[1]}function E(){this.setSettings=function(t){for(var r=0;24>r;r++)this[String.fromCharCode(97+r)]=t[r]||0;this.c<.01&&(this.c=.01);var a=this.b+this.c+this.e;if(.18>a){var e=.18/a;this.b*=e,this.c*=e,this.e*=e}}}function p(){this._params=new E;var t,r,a,e,o,n,i,s,c,f,h,l;this.reset=function(){var t=this._params;e=100/(t.f*t.f+.001),o=100/(t.g*t.g+.001),n=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(h=.5-t.n/2,l=5e-5*-t.o),s=1+t.l*t.l*(t.l>0?-.9:10),c=0,f=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.reset();var e=this._params;return t=e.b*e.b*1e5,r=e.c*e.c*1e5,a=e.e*e.e*1e5+12,3*((t+r+a)/3|0)},this.synthWave=function(v,u){var m=this._params,M=1!=m.s||m.v,d=m.v*m.v*.1,E=1+3e-4*m.w,p=m.s*m.s*m.s*.1,g=1+1e-4*m.t,A=1!=m.s,b=m.x*m.x,S=m.g,T=m.q||m.r,R=m.r*m.r*m.r*.2,I=m.q*m.q*(m.q<0?-1020:1020),x=m.p?((1-m.p)*(1-m.p)*2e4|0)+32:0,D=m.d,y=m.j/2,P=m.k*m.k*.01,L=m.a,k=t,N=1/t,w=1/r,_=1/a,O=5/(1+m.u*m.u*20)*(.01+p);O>.8&&(O=.8),O=1-O;for(var G,U,C,F,B,Y,H=!1,W=0,X=0,q=0,K=0,j=0,V=0,J=0,z=0,Q=0,Z=0,$=new Array(1024),tt=new Array(32),rt=$.length;rt--;)$[rt]=0;for(var rt=tt.length;rt--;)tt[rt]=2*Math.random()-1;for(var rt=0;u>rt;rt++){if(H)return rt;if(x&&++Q>=x&&(Q=0,this.reset()),f&&++c>=f&&(f=0,e*=s),n+=i,e*=n,e>o&&(e=o,S>0&&(H=!0)),U=e,y>0&&(Z+=P,U*=1+Math.sin(Z)*y),U|=0,8>U&&(U=8),L||(h+=l,0>h?h=0:h>.5&&(h=.5)),++X>k)switch(X=0,++W){case 1:k=r;break;case 2:k=a}switch(W){case 0:q=X*N;break;case 1:q=1+2*(1-X*w)*D;break;case 2:q=1-X*_;break;case 3:q=0,H=!0}T&&(I+=R,C=0|I,0>C?C=-C:C>1023&&(C=1023)),M&&E&&(d*=E,1e-5>d?d=1e-5:d>.1&&(d=.1)),Y=0;for(var at=8;at--;){if(J++,J>=U&&(J%=U,3==L))for(var et=tt.length;et--;)tt[et]=2*Math.random()-1;switch(L){case 0:B=h>J/U?.5:-.5;break;case 1:B=1-J/U*2;break;case 2:F=J/U,F=6.28318531*(F>.5?F-1:F),B=1.27323954*F+.405284735*F*F*(0>F?1:-1),B=.225*((0>B?-1:1)*B*B-B)+B;break;case 3:B=tt[Math.abs(32*J/U|0)]}M&&(G=V,p*=g,0>p?p=0:p>.1&&(p=.1),A?(j+=(B-V)*p,j*=O):(V=B,j=0),V+=j,K+=V-G,K*=1-d,B=K),T&&($[z%1024]=B,B+=$[(z-C+1024)%1024],z++),Y+=B}Y*=.125*q*b,v[rt]=Y>=1?32767:-1>=Y?-32768:32767*Y|0}return u}}function A(t){if(!ct){var r=new Audio;return setTimeout(function(){r.src=jsfxr(t)},300),r}}function b(t){ct||t.play()}function S(){var t=Math.floor((innerHeight-Dt)/2);t!==Gt&&(Gt=t,d.style.marginTop=t+"px")}function T(t){if(Math.abs(Math.cos(t[2]))<t[9]){var r=X(t),a=K(t),e=Math.max(0,Math.min(r[0],kt)),o=Math.max(0,Math.min(r[1],Nt)),n=.005*t[3]*(.5+.5*Math.random()),i=t[6],s=t[5];return vr.push([e,o,a,n,s,i]),b(Ht),1}b(Wt)}function R(){vr=[];for(var t=0;8>t;++t){var r=Math.floor(1.5+3*Math.random());vr[t]=[kt*Math.random(),Nt*Math.random(),2*Math.PI*Math.random(),.02+.02*Math.random(),D(r),r]}}function I(){var t=Mr.reduce(function(t,r){return r[6]},0);return Math.random()<.01*fr*Math.exp(-t*(1+5*Math.exp(-(Rr-1)/3)-.2*Math.exp(-Math.abs(Rr-20)/20)))*(1-Math.exp(-Sr/5e3))?x():void 0}function x(){var t,r=Math.random()*wt,a=[];for(t=0;t<Mr.length;++t){var e=Mr[t],o=e[0]%wt;if(o>r-60&&r+60>o)return 0;a.push(e[7])}var n=[];for(t=65;91>t;t++)-1==a.indexOf(t)&&n.push(t);if(!n.length)return 0;var i=1-Math.exp(-Rr/5),s=1-Math.exp((1-Rr)/20);Math.random()>i&&(s*=Math.random());var c=s+Math.random()*(i-s),f=s+Math.random()*(i-s),h=s+Math.random()*(i-s),l=Math.PI*(.5*Math.random()+.5*Math.random()*c)*c,v=Math.floor(2+3*Math.random()*Math.random()+4*Math.random()*Math.random()*Math.random()),u=Rr>2&&Math.random()>.5+.5*((Rr-3)%8)/8-.4*Math.exp(-Rr/10)?.9-.5*f-.2*c:1;return Mr.push([r,.1,2*Math.PI*Math.random(),30*Math.random(),.002+.001*(Math.random()+.5*v*Math.random())*h-.001*c,D(v),v,n[Math.floor(Math.random()*n.length)],l,u,0]),1}function D(t){for(var r=4+2*t,a=10*t,e=[],o=0;r>o;++o){var n=a*(.4+.6*Math.random()),i=2*Math.PI*o/r;e.push([n*Math.cos(i),n*Math.sin(i)])}return e}function y(t){b(Math.random()<.5?Bt:Yt);for(var r=Math.floor(19+9*Math.random()),a=0;r>a;++a){var e=30*Math.random()-10,o=(Math.random()+2*Math.PI*a)/r;dr.push([t[0]+e*Math.cos(o),t[1]+e*Math.sin(o),o,.06,Math.random()<.3?0:1e3])}}function P(t){var r=vr[t];vr.splice(t,1);var a=r[5];if(a>1)for(var e=Math.round(2+1.5*Math.random()),o=0;e>o;o++){var n=Math.random()+2*Math.PI*o/e;vr.push([r[0]+10*Math.cos(n),r[1]+10*Math.sin(n),n,.8*r[3],D(a-1),a-1])}}function L(t,r,a){var e=Math.cos(a),o=Math.sin(a);mr.push([t[0]+14*e,t[1]+14*o,t[2]+r*e,t[3]+r*o,1e3,0])}function k(t){t[0]+=t[2]*fr,t[1]+=t[3]*fr}function N(t){var r=Math.cos(t[2]),a=Math.sin(t[2]),e=fr*t[3];t[0]+=e*r,t[1]+=e*a}function w(t,r,a){var e=100;(t[0]<-e||t[1]<-e||t[0]>kt+e||t[1]>Nt+e)&&a.splice(r,1)}function _(t,r,a){(t[4]-=fr)<0&&a.splice(r,1)}function O(t){t[0]<0?t[0]+=kt:t[0]>kt&&(t[0]-=kt),t[1]<0?t[1]+=Nt:t[1]>Nt&&(t[1]-=Nt)}function G(t,r,a){var e=t[0]-r[0],o=t[1]-r[1];return a*a>e*e+o*o}function U(){Er||(Er=hr,Tr++,Gr[1]++,localStorage.ach=Gr)}function C(t,r){var a=t[0]-r[0],e=t[1]-r[1];return Math.sqrt(a*a+e*e)}function F(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function B(t){t[10]||(t[0]+=.1*fr,t[2]+=t[4]*fr,t[3]=t[3]<10?60:t[3]*(1-8e-4*fr))}function Y(t){if(t[4]-=fr,t[4]<0&&(t[4]=500+300*Math.random(),!Er)){var r=Math.atan2(lr[1]-t[1],lr[0]-t[0]);if(Math.random()<.2){var a=2*Math.PI*Math.random();t[2]=.08*Math.cos(a),t[3]=.08*Math.sin(a)}L(t,.3+.1*Math.random(),r+.6*Math.random()-.3)}}function H(r,a){function e(t,r){return u>m?0>u==0>t?-1:1:0>m==0>r?-1:1}var o,n,i,s=yr,c=Dr;yr=0,xr=0,Dr=0;var f,h,l,v,u=Math.cos(lr[4]),m=Math.sin(lr[4]),M=Math.sqrt(lr[2]*lr[2]+lr[3]*lr[3]),d=[kt/2-lr[0],Nt/2-lr[1]],E=F(d),p=Math.atan2(d[1],d[0]),g=100+500*Math.random(),A=[lr[0]+g*lr[2],lr[1]+g*lr[3]],b=0;for(Cr=0;Cr<vr.length;++Cr){var S=vr[Cr];if(!(S[0]<0||S[1]<0||S[0]>kt||S[1]>Nt)){var T=[].concat(S);T[0]+=Math.cos(S[2])*S[3]*g,T[1]+=Math.sin(S[2])*S[3]*g;var R=C(S,lr)-(10+10*S[5]),I=C(T,A)-(10+10*S[5]);R-I>g/200&&(80>R||30+30*a>I)&&(!f||h>I)&&(f=S,l=S,h=I,b++)}if(!(S[5]>2&&30>R)||100>I){var x=S[5];(!f||v>x)&&(l=T,v=x)}}for(Cr=0;Cr<ur.length;++Cr){var D=ur[Cr];Math.random()<.02*fr*(r+a+1)&&(l=D)}if(Pr=1-Math.exp(-vr.length/10)+(1-Math.exp(-b/3)),xr=Sr>3e3&&Math.random()<1e-4*fr*Pr,yr=Sr>1e3&&Math.random()<.005*fr?Math.random()<.5?0:Math.random()<.5?1:-1:s,Dr=Sr>2e3&&Math.random()<.005*fr*(1-r)?Math.random()<.5?1:-1:c,E>100-80*a&&(i=t(p-lr[4]),Math.abs(i)>2*Math.PI/3?Dr=-1:Math.abs(i)>Math.PI/3?yr=0>i?-1:1:Dr=1),-Math.exp(-E/80)+Math.exp(-M)+(1-r)*Pr*Math.random()<Math.random()&&(Dr=e(lr[2],lr[3])),f&&r>Math.random()-.02*fr&&(o=f[0]-lr[0],n=f[1]-lr[1],Dr=e(o,n)),l&&a>Math.random()-.01*fr){o=l[0]-lr[0],n=l[1]-lr[1],i=t(Math.atan2(n,o)-lr[4]);var y=Math.abs(i);Math.random()<.06*fr*y&&(yr=i>0?1:-1),xr=Math.random()<.005*fr*(Math.exp(10*-y)+Pr+r)}}function W(){if(Sr+=fr,hr-Kr>200&&(Kr=hr,ur.length&&b(jt)),Or)Sr>0&&Fr&&140<Fr[1]&&Fr[1]<280&&(Fr[0]<kt/2?(Rr=Or-1,Sr=Or=0):(Sr=Or=0,localStorage.pl="")),Fr=0;else{var r,a=0;if(!Er&&Sr>0&&hr-qr>5e3&&Rr>1&&!ur.length){var e=2*Rr,o=3*_r/e;_r>e&&(qr=hr,wr=_r=0,ur.push([kt*Math.random(),Nt*Math.random(),0,0,0]),Gr[2]++,localStorage.ach=Gr),Wr+=2*o*Math.PI*fr/1e3,Math.sin(Wr)>0!==Xr&&(Xr=!Xr,b(Xr?Ct:Ft))}if(0==Ir&&Sr>0&&(pr=hr,Ir=4,Rr++,Ar=0,br=0,vr=[],ur=[],b(qt),Rr>1&&(localStorage.pl=Rr)),Sr>1e3&&!Er){for(r=0;r<Mr.length;r++){var n=Mr[r];if(n[10])hr-n[10]>1e3&&Mr.splice(r--,1);else{var i=X(n),s=Fr&&G(Fr,i,40+10*n[6]);(Ur[n[7]]||s)&&(Nr=Fr=Ur[n[7]]=0,T(n)?(Gr[0]++,localStorage.ach=Gr,Rr>1&&_r++,Mr.splice(r--,1)):(_r=0,n[10]=hr))}}for(Fr=0;I(););}if(Er&&hr-Er>2e3+(Ir>1?0:2e3)&&(Er=0,lr=[kt/2,Nt/2,0,0,0],--Ir?pr=hr:(Sr=-5e3,R(),ur=[],b(Xt))),mr.forEach(function(t,r){t[5]||a++;var e;if(t[4]<900){if(!Er&&G(t,lr,20))return y(t),mr.splice(r,1),void U();for(e=0;e<ur.length;++e){var o=ur[e];if(G(t,o,20))return y(t),mr.splice(r,1),void ur.splice(e,1)}}for(e=0;e<vr.length;++e){var n=vr[e],i=n[5];if(G(t,n,10*i)){y(t),mr.splice(r,1),P(e);var s=20*Math.floor(.4*(6-i)*(6-i));return Ar+=s,br+=s,br>1e4&&(Ir++,br=0),void(gr=Math.max(gr,Ar))}}}),!Er&&Sr>0&&vr.forEach(function(t,r){G(t,lr,10+10*t[5])&&(1e3>hr-pr?P(r):(y(lr),U()))}),Pr=0,!Er&&Sr>0){var c=Math.cos(lr[4]),f=Math.sin(lr[4]),h=1-Math.exp((1-Rr)/4)+1-Math.exp((1-Rr)/8),l=Math.random(),v=Math.exp((1-Rr)/16);l=l*v+.5*(1-v);var u=Math.min(1,l*h),m=h-u;H(u,m),lr[2]+=Dr*fr*2e-4*c,lr[3]+=Dr*fr*2e-4*f,lr[4]=t(lr[4]+yr*fr*.005),3>a&&xr&&(b(Ut),L(lr,.3,lr[4]))}}k(lr),vr.forEach(N),ur.forEach(k),mr.forEach(k),dr.forEach(N),ur.forEach(Y),Mr.forEach(B),dr.forEach(_),O(lr),vr.forEach(Sr>0&&!Or?w:O),ur.forEach(O),mr.forEach(_),mr.forEach(O),kr+=.04*(Pr-kr),Lr+=.04*(Dr-Lr)}function X(t){var r,a,e=t[0]%wt,o=kt+Lt,n=Nt+Lt;o>e?(r=e,a=0):(e-=o,n>e?(r=o,a=e):(e-=n,o>e?(r=o-e,a=n):(e-=o,r=0,a=n-e)));var i=[-Lt/2+r,-Lt/2+a];if(t[10]){var s=hr-t[10],c=Math.atan2(lr[1]-i[1],lr[0]-i[0]),f=.3*s;i[0]-=Math.cos(c)*f,i[1]-=Math.sin(c)*f}return i}function q(t){var r=X(t),a=Math.atan2(lr[1]-r[1],lr[0]-r[0]);return a}function K(t){return Math.cos(t[2])*t[8]+q(t)}function j(t){if(mt.strokeStyle="#f00",mt.globalAlpha=.4,mt.rotate(t[4]),Er){mt.lineWidth=2;var r=(hr-Er)/200;e([[-6,-6-.5*r],[3,-3-.9*r]]),mt.stroke(),8>r&&(e([[3+.4*r,-3-.8*r],[12+.4*r,0-.5*r]]),mt.stroke()),e([[12,0+.4*r],[3,3+r]]),mt.stroke(),9>r&&(e([[1,5+r],[-6,6+r]]),mt.stroke()),7>r&&(e([[-6-r,-6],[-6-r,6]]),mt.stroke())}else e([[-6,-6],[12,0],[-6,6],[-5,0]]),mt.stroke(),Lr>.2&&(e([[-6,2*Math.random()-1],[-10,2*Math.random()-1]]),mt.stroke())}function V(t){mt.globalAlpha=.2,mt.strokeStyle="#f00",e(t[4]),mt.stroke()}function J(){mt.globalAlpha=.4,mt.strokeStyle="#f00",e(Jr),mt.stroke()}function z(){mt.globalAlpha=1-Math.random()*Math.random(),mt.fillStyle="#00f",mt.beginPath(),mt.arc(0,0,2+2.5*Math.random(),0,2*Math.PI),mt.fill()}function Q(){mt.globalAlpha=.8,mt.fillStyle="#f00",mt.beginPath(),mt.arc(0,0,1,0,2*Math.PI),mt.fill()}function Z(){if(mt.save(),mt.fillStyle=mt.strokeStyle="#0f0",mt.globalAlpha=.3,mt.save(),mt.translate(kt/2,20),o(a(gr),.6),mt.restore(),mt.save(),mt.translate(50,20),o(a(Ar),1.5,1),mt.restore(),0>Sr||Or)mt.save(),mt.translate(kt-50,20),o(a(0),1.5,-1),mt.restore(),mt.save(),mt.translate(kt/2-160,.7*Nt),e([[0,2],[0,18]]),mt.stroke(),mt.translate(40,0),o("COIN",2,1),mt.translate(40,0),e([[0,2],[0,18]]),mt.stroke(),mt.translate(40,0),o("PLAY",2,1),mt.restore();else for(var t=1;Ir>t;t++)mt.save(),mt.translate(60+10*t,50),mt.rotate(-Math.PI/2),e([[-4,-4],[10,0],[-4,4],[-3,0]]),mt.stroke(),mt.restore();Er&&1==Ir&&(mt.save(),mt.lineWidth=2,mt.translate(kt/2,140),o("GAME OVER",2),mt.restore()),Or&&Sr>0&&(mt.save(),mt.translate(kt/2,100),o("CONTINUE GAME ?",2),mt.restore(),mt.save(),mt.globalAlpha=1,mt.translate(kt/4,180),o("YES",ct?4:6),mt.restore(),mt.save(),mt.globalAlpha=1,mt.translate(3*kt/4,180),o("NO",ct?4:6),mt.restore()),mt.save(),mt.translate(kt/2,Nt-14),o("2015 GREWEB INC",.6),mt.restore(),0>Sr&&800>hr%1e3&&(mt.save(),mt.translate(kt-20,Nt-24),o(ct?"MOBILE":"DESKTOP",.6,-1),mt.restore(),mt.save(),mt.translate(kt-20,Nt-14),o("VERSION",.6,-1),mt.restore()),mt.restore()}function $(){mt.save(),mt.fillStyle=mt.strokeStyle="#f00",mt.globalAlpha=.03,mt.translate(kt/2,Nt/2),mt.beginPath(),mt.arc(0,0,4,0,2*Math.PI),mt.fill(),mt.stroke(),mt.beginPath(),mt.arc(0,0,12,0,2*Math.PI),mt.stroke(),mt.beginPath(),mt.arc(0,0,12,4,6),mt.stroke(),mt.beginPath(),mt.arc(0,0,12,1,2),mt.stroke(),mt.restore()}function tt(){mt.save(),mt.fillStyle="#000",mt.fillRect(0,0,kt,Nt),mt.restore(),nt(vr,V),nt(ur,J),nt(mr,z),nt(dr,Q),Sr>0&&!Or&&(mt.save(),ot(lr),j(lr),mt.restore()),Z(),$()}function rt(t){var r=q(t),a=Math.cos(t[2]),n=a*t[8]+r,i=10*t[6],s=Math.abs(a)<t[9];if(Sr>0&&Ir&&!Er&&!t[10]){mt.lineWidth=1+t[3]/60,mt.strokeStyle=s?"#7cf":"#f66",t[8]>.1&&(mt.save(),mt.rotate(r),mt.strokeStyle="#f66",mt.beginPath(),mt.arc(0,0,i+10,-t[8],-t[8]*t[9]),mt.stroke(),mt.beginPath(),mt.arc(0,0,i+10,t[8]*t[9],t[8]),mt.stroke(),mt.strokeStyle="#7cf",mt.beginPath(),mt.arc(0,0,i+10,-t[8]*t[9],t[8]*t[9]),mt.stroke(),e([[i+8,0],[i+12,0]]),mt.stroke(),mt.restore()),mt.save(),mt.rotate(n),mt.save();var c=60+i,f=t[3]+i;mt.globalAlpha=.2,e([[0,0],[c,0]]),mt.stroke(),mt.restore(),e([[0,0],[f,0]]),mt.stroke();var h=6;e([[c-h,h],[c,0],[c-h,-h]],1),mt.stroke(),mt.restore()}else mt.strokeStyle=t[10]?"#f66":"#999";mt.save(),e(t[5]),mt.fillStyle="#000",mt.fill(),mt.stroke(),mt.restore();var l=[0,0];t[5].forEach(function(t){l[0]+=t[0],l[1]+=t[1]}),!ct&&Sr>0&&(mt.save(),mt.translate(l[0]/t[5].length+1,l[1]/t[5].length-5),o(String.fromCharCode(t[7]),1),mt.restore())}function at(){function t(t){r="PLAYER "+t,a=["GENIOUS PLAYER!!","EXPERIENCED PLAYER!!","GOOD PLAYER. GET READY","NICE PLAYER.","BEGINNER.","VERY BEGINNER. EASY KILL"][Math.floor(6*Math.exp(-t/8))]}var r="",a="",n="#f7c",i="#7fc";if(Rr)Er?1==Ir?(i="#f66",r="GOOD JOB !!!",a="THE DUDE IS TIRED"):2==Ir?(i="#f66",r="OK...",a="ONE MORE TIME !"):Br&&hr-Qr>3e3?r=Br:(r=["!!!","GREAT!","COOL!","OMG!","AHAH!","RUDE!","EPIC!","WICKED!","SHAME!","HEHEHE!","BWAHAHA!"],Br=r=r[Math.floor(Math.random()*r.length)],Qr=0):0>Sr?(r="INCOMING NEW PLAYER...",a="25¢ 25¢ 25¢ 25¢ 25¢"):6e3>Sr&&4==Ir?t(Rr):(i="#f66",Br&&3e3>hr-Qr?a=Br:Nr?Sr>1e4&&(n=i="#7cf",r=ct?"TAP ON ASTEROIDS":"PRESS ASTEROIDS LETTER",a="TO SEND THEM TO THE GAME"):2===Rr&&Sr>5e3&&wr?(n=i="#f66",r="AHAH! NOW LETS SEND...",a="...SOME UFOS !!!"):3===Rr&&Sr>5e3?(n="#7cf",i="#f66",r="CAREFUL ABOUT THE",a="RED"):Rr>5&&(Br=0,Math.random()<1e-4*fr&&hr-Qr>8e3&&(a=["COME ON! KILL IT!","JUST DO IT!","I WANT ¢¢¢","GIVE ME SOME ¢¢¢","DO IT!","DESTROY IT!"],Br=a=a[Math.floor(Math.random()*a.length)],Qr=hr)));else if(-7e3>Sr)r="BEHIND ASTEROIDS",a="THE DARK SIDE";else if(-3500>Sr)n=i="#7cf",r="SEND ASTEROIDS TO MAKE",a="PLAYERS WASTE THEIR MONEY";else if(Or)0>Sr&&(Sr=0),t(Or);else{for(var s=Math.min(25,Math.floor((Sr+3500)/80)),c=0;s>c;c++)r+=".";Sr>-2e3&&(a="A NEW PLAYER!")}a&&Yr!==a&&"#f66"===i&&b(Kt),mt.save(),mt.translate(xt-yt,2),mt.lineWidth=2,mt.strokeStyle="#7cf",o(25*(Sr>0&&Or||Rr)+"¢",2,-1),mt.restore(),mt.save(),mt.translate(yt,ct?40:2),mt.lineWidth=hr%600>300?2:1,mt.save(),mt.strokeStyle=n,o(r,ct?1.5:2,1),mt.restore(),mt.save(),mt.strokeStyle=i,mt.translate(0,ct?30:40),o(Yr=a,ct?1.5:2,1),mt.restore(),mt.restore(),mt.save(),mt.strokeStyle="#7cf",mt.translate(xt-yt,Dt-20),_r&&o(_r+"x",1.5,-1),mt.restore();for(var f=0;3>f;f++){var h=Gr[f];h&&(mt.save(),mt.strokeStyle="#fc7",mt.translate(yt+50+100*f,Dt-20),e(zr[f]),mt.stroke(),mt.translate(0,-30),o(""+h,1),mt.restore())}}function et(){h(cr,g),m(nr),i(Qt),Tt.uniform1i(s(Qt,"t"),l(cr,0)),Tt.drawArrays(Tt.TRIANGLES,0,6),m(er),i(tr),Tt.uniform1f(s(tr,"pt"),Sr/1e3),Tt.uniform1f(s(tr,"pl"),Rr),Tt.uniform1f(s(tr,"ex"),kr),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(er),0)),Tt.uniform2f(s(Jt,"dir"),6,0),Tt.drawArrays(Tt.TRIANGLES,0,6),m(sr),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(ir),0)),Tt.uniform2f(s(Jt,"dir"),0,2),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(sr),0)),Tt.uniform2f(s(Jt,"dir"),2,1),Tt.drawArrays(Tt.TRIANGLES,0,6),m(er),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(ir),0)),Tt.uniform2f(s(Jt,"dir"),2,-1),Tt.drawArrays(Tt.TRIANGLES,0,6),m(or),i($t),Tt.uniform1i(s($t,"t"),l(M(nr),0)),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(or),0)),Tt.uniform2f(s(Jt,"dir"),1,-2),Tt.drawArrays(Tt.TRIANGLES,0,6),m(sr),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(ir),0)),Tt.uniform2f(s(Jt,"dir"),2,-4),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(sr),0)),Tt.uniform2f(s(Jt,"dir"),2,-5),Tt.drawArrays(Tt.TRIANGLES,0,6),m(or),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(ir),0)),Tt.uniform2f(s(Jt,"dir"),2,-4),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(nr),0)),Tt.uniform2f(s(Jt,"dir"),1,1),Tt.drawArrays(Tt.TRIANGLES,0,6),m(sr),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(ir),0)),Tt.uniform2f(s(Jt,"dir"),-1,1),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(sr),0)),Tt.uniform2f(s(Jt,"dir"),1.5,0),Tt.drawArrays(Tt.TRIANGLES,0,6),m(sr),i(Jt),Tt.uniform1i(s(Jt,"t"),l(M(ir),0)),Tt.uniform2f(s(Jt,"dir"),0,1.5),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ir),i(Zt),Tt.uniform1i(s(Zt,"t"),l(M(sr),0)),Tt.uniform1i(s(Zt,"r"),l(M(ar),1)),Tt.drawArrays(Tt.TRIANGLES,0,6),m(ar),i(zt),Tt.uniform1i(s(zt,"t"),l(M(ir),0)),Tt.drawArrays(Tt.TRIANGLES,0,6),Tt.bindFramebuffer(Tt.FRAMEBUFFER,null),i(rr),Tt.uniform1i(s(rr,"G"),l(M(nr),0)),Tt.uniform1i(s(rr,"R"),l(M(ar),1)),Tt.uniform1i(s(rr,"B"),l(M(sr),2)),Tt.uniform1i(s(rr,"L"),l(M(or),3)),Tt.uniform1i(s(rr,"E"),l(M(er),4)),Tt.uniform1f(s(rr,"s"),Rr?1:r(-4e3,-3e3,Sr)),Tt.drawArrays(Tt.TRIANGLES,0,6)}function ot(t){mt.translate(t[0],t[1])}function nt(t,r){for(var a=0;a<t.length;++a)mt.save(),ot(t[a]),r(t[a]),mt.restore()}function it(t){requestAnimationFrame(it),Hr||(Hr=t),fr=Math.min(100,t-Hr),Hr=t,S(),hr+=fr,W(),mt=It,mt.save(),mt.scale(Ot,Ot),mt.save(),mt.clearRect(0,0,xt,Dt),at(),mt.translate(yt,Pt),Mr.forEach(function(t){mt.save(),ot(X(t)),rt(t),mt.restore()}),mt.restore(),mt.restore(),mt=Rt,mt.save(),tt(),mt.restore(),et()}var st=!1,ct="ontouchstart"in document,ft=[[0,0],[2,0],[2,2],[0,2],[0,0]],ht=[[2,0],[0,0],[0,1],[2,1],[2,2],[0,2]],lt=[ft,[[1,0],[1,2]],[[0,0],[2,0],[2,1],[0,1],[0,2],[2,2]],[[0,0],[2,0],[2,2],[0,2],,[0,1],[2,1]],[[0,0],[0,1],[2,1],,[2,0],[2,2]],ht,[[0,0],[0,2],[2,2],[2,1],[0,1]],[[0,0],[2,0],[2,2]],[[0,0],[2,0],[2,2],[0,2],[0,0],,[0,1],[2,1]],[[2,2],[2,0],[0,0],[0,1],[2,1]]];[[[0,2],[0,2/3],[1,0],[2,2/3],[2,2],,[0,4/3],[2,4/3]],[[0,1],[0,0],[4/3,0],[2,1/3],[2,2/3],[4/3,1],[0,1],[0,2],[4/3,2],[2,5/3],[2,4/3],[4/3,1]],[[2,0],[0,0],[0,2],[2,2]],[[0,0],[1,0],[2,2/3],[2,4/3],[1,2],[0,2],[0,0]],[[2,0],[0,0],[0,2],[2,2],,[0,1],[1.5,1]],[[2,0],[0,0],[0,2],,[0,1],[2,1]],[[2,2/3],[2,0],[0,0],[0,2],[2,2],[2,4/3],[1,4/3]],[[0,0],[0,2],,[2,0],[2,2],,[0,1],[2,1]],[[0,0],[2,0],,[1,0],[1,2],,[0,2],[2,2]],[[2,0],[2,2],[1,2],[0,4/3]],[[0,0],[0,2],,[2,0],[0,1],[2,2]],[[0,0],[0,2],[2,2]],[[0,2],[0,0],[1,2/3],[2,0],[2,2]],[[0,2],[0,0],[2,2],[2,0]],ft,[[0,2],[0,0],[2,0],[2,1],[0,1]],[[0,0],[2,0],[2,4/3],[1,2],[0,2],[0,0],,[2,2],[1,4/3]],[[0,2],[0,0],[2,0],[2,1],[0,1],[2,2]],ht,[[0,0],[2,0],,[1,0],[1,2]],[[0,0],[0,2],[2,2],[2,0]],[[0,0],[1,2],[2,0]],[[0,0],[0,2],[1,4/3],[2,2],[2,0]],[[0,0],[2,2],,[2,0],[0,2]],[[0,0],[1,2/3],[2,0],,[1,2/3],[1,2]],[[0,0],[2,0],[0,2],[2,2]]].forEach(function(t,r){lt[String.fromCharCode(65+r)]=t});var vt=lt["."]=[[1,1.8],[1,2]];lt["!"]=[[1,0],[1,1.5],,].concat(vt),lt["?"]=[[0,0],[2,0],[2,1],[1,1],[1,1.5],,].concat(vt),lt.x=[[0,1],[2,2],,[2,1],[0,2]],lt["¢"]=[[1,0],[1,2],,[1.5,.5],[.5,.5],[.5,1.5],[1.5,1.5]];var ut=new p;jsfxr=function(t){ut._params.setSettings(t);var r=ut.totalReset(),a=new Uint8Array(4*((r+1)/2|0)+44),e=2*ut.synthWave(new Uint16Array(a.buffer,44),r),o=new Uint32Array(a.buffer,0,44);o[0]=1179011410,o[1]=e+36,o[2]=1163280727,o[3]=544501094,o[4]=16,o[5]=65537,o[6]=44100,o[7]=88200,o[8]=1048578,o[9]=1635017060,o[10]=e,e+=44;for(var n=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="data:audio/wav;base64,";e>n;n+=3){var c=a[n]<<16|a[n+1]<<8|a[n+2];s+=i[c>>18]+i[c>>12&63]+i[c>>6&63]+i[63&c]}return s};var mt,Mt="attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,0.0,1.0);uv=0.5*(p+1.0);}",dt="precision highp float;varying vec2 uv;uniform sampler2D t;uniform vec2 dim;uniform vec2 dir;void main(){vec4 a=vec4(0.0);vec2 b=vec2(1.3846153846)*dir;vec2 c=vec2(3.2307692308)*dir;a+=texture2D(t,uv)*0.2270270270;a+=texture2D(t,uv+(b/dim))*0.3162162162;a+=texture2D(t,uv-(b/dim))*0.3162162162;a+=texture2D(t,uv+(c/dim))*0.0702702703;a+=texture2D(t,uv-(c/dim))*0.0702702703;gl_FragColor=a;}",Et="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=texture2D(t,uv);}",pt="precision highp float;varying vec2 uv;uniform sampler2D G;uniform sampler2D R;uniform sampler2D B;uniform sampler2D L;uniform sampler2D E;uniform float s;float a(vec2 b,vec2 c){float d=10.0;vec2 e=b-c;return pow(abs(pow(abs(e.x),d)+pow(abs(e.y),d)),1.0/d);}void main(){vec2 f=(uv/0.98)-0.01;float g=a(uv,vec2(0.5));float h=smoothstep(0.45,0.51,g);f=mix(f,vec2(0.5),0.2*(0.6-g)-0.02*g);gl_FragColor=vec4((vec3(0.03,0.04,0.05)+mix(0.3,2.0,s)*texture2D(G,f).rgb+s*(texture2D(L,f).rgb+vec3(0.3,0.6,1.0)*(texture2D(R,f).rgb+3.0*texture2D(B,f).rgb)+0.5*texture2D(E,f).rgb))*mix(1.0,smoothstep(1.0,0.0,h),0.6),1.0);}",gt="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=vec4(step(0.9,texture2D(t,uv).r));}",At="precision highp float;varying vec2 uv;uniform sampler2D t;void main(){vec3 a=texture2D(t,uv).rgb;vec2 b=0.003*vec2(cos(47.0*uv.y),sin(67.0*uv.x));gl_FragColor=vec4(a.r+a.g+a.b+texture2D(t,uv+b).b);}",bt="precision highp float;varying vec2 uv;uniform sampler2D t;uniform sampler2D r;void main(){vec3 a=texture2D(r,uv).rgb;gl_FragColor=vec4(a*(0.82-0.3*a.r*a.r)+texture2D(t,uv).rgb,1.0);}",St="precision highp float;varying vec2 uv;uniform float pt;uniform float pl;uniform float S;uniform float ex;float a(vec2 b,vec2 c){return step(length((uv-b)/c),1.0);}float d(vec2 b,vec2 c,float e){vec2 f=(uv-b)/c;return step(pow(abs(f.x),e)+pow(abs(f.y),e),1.0);}vec3 g(){return 0.1+0.3*vec3(1.0,0.9,0.7)*smoothstep(0.4,0.1,distance(uv,vec2(0.2,1.2)))+0.4*vec3(0.8,0.6,1.0)*smoothstep(0.5,0.2,distance(uv,vec2(1.3,0.7)));}vec4 h(float e,float i){vec4 b=vec4(0.0);vec2 j=vec2(min(ex,1.0),mix(min(ex,1.0),min(ex-1.0,1.0),0.5));vec4 k=0.2+0.4*pow(abs(cos(4.*e+S)),2.0)*vec4(1.0,0.7,0.3,1.0);vec4 l=vec4(0.5,0.3,0.3,1.0);vec4 m=vec4(0.3*(1.0+cos(3.*e+6.*S)),0.2*(1.0+cos(7.*e+7.*S)),0.1+0.2*(1.0+sin(7.*e+8.*S)),1.0);float n=step(sin(9.0*e+S),0.0);float o=0.02+0.02*n*cos(e+S);float p=step(i,-0.01)+step(0.01,i);float q=(1.0-p)*step(0.0,pt);vec2 r=vec2(0.5)+p*vec2(0.03*cos(4.0*pt+sin(pt)),0.05*abs(sin(3.0*pt)))+j*q*vec2(0.05*cos(pt*(1.0+0.1*sin(pt))),0.05*abs(sin(pt)));vec2 s=mix(r,vec2(0.5),0.5);r.x+=i;s.x+=i;b+=k*a(r,vec2(0.06,0.1));b*=1.0-(0.5+0.5*n)*a(r-vec2(0.0,0.04),vec2(0.03,0.01));b*=1.0-a(r+vec2(0.03,0.03),vec2(0.02,0.01));b*=1.0-a(r+vec2(-0.03,0.03),vec2(0.02,0.01));b*=1.0-0.6*a(r,vec2(0.01,0.02));b+=l*a(r+vec2(0.0,o),vec2(0.07,0.1+o));b+=q*(l+k)*a(s-vec2(-0.2+0.01*cos(5.0*pt),0.45-0.1*j.y*step(0.0,pt)*pow(abs(sin(8.0*pt*(1.0+0.2*cos(pt)))),4.0)),vec2(0.055,0.05));b+=q*(l+k)*a(s-vec2(0.2+0.01*cos(5.0*pt),0.45-0.1*j.x*step(2.0,pt)*pow(abs(cos(7.0*pt)),4.0)),vec2(0.055,0.05));b+=step(b.a,0.0)*(l+k)*d(r-vec2(0.0,0.10+0.02*n),vec2(0.05-0.01*n,0.03),4.0);vec2 t=vec2(0.16+0.04*sin(9.*e),0.27+0.02*cos(9.*e));b+=step(b.r+b.g+b.b,0.0)*m*step(1.0,d(r-vec2(0.0,0.35),t*(1.0-0.1*n),4.0)+a(r-vec2(0.0,0.35),t));return b;}void main(){float u=0.6+0.4*smoothstep(2.0,0.0,distance(pt,-2.0));vec4 b=vec4(0.0);b+=(1.0-smoothstep(-0.0,-5.0,pt))*h(pl+step(pt,0.0),-0.6*smoothstep(-1.,-5.,pt));b+=step(1.0,pl)*h(pl+step(pt,0.0)-1.0,2.0*smoothstep(-4.,-1.,pt));b*=1.0-1.3*distance(uv,vec2(0.5));gl_FragColor=vec4(u*mix(g(),b.rgb,clamp(b.a,0.0,1.0)),1.0);}",Tt=c.getContext("webgl")||c.getContext("experimental-webgl"),Rt=g.getContext("2d"),It=u.getContext("2d"),xt=ct?480:800,Dt=ct?600:680,yt=ct?50:120,Pt=ct?140:yt,Lt=ct?40:80,kt=xt-2*yt,Nt=Dt-yt-Pt,wt=2*(kt+Nt+2*Lt),_t=Math.random();d.style.width=xt+"px",g.width=c.width=kt,g.height=c.height=Nt,c.style.top=Pt+"px",c.style.left=yt+"px";var Ot=ct?1:devicePixelRatio;u.width=xt*Ot,u.height=Dt*Ot,u.style.width=xt+"px",u.style.height=Dt+"px";var Gt=0,Ut=A([0,.06,.18,,.33,.5,.23,-.04,-.24,,,-.02,,.37,-.2199,,,,.8,,,,,.3]),Ct=A([,,.12,,.13,.16,,,,,,,,,,,,,.7,,,,,.5]),Ft=A([,,.12,,.13,.165,,,,,,,,,,,,,.7,,,,,.5]),Bt=A([3,,.35,.5369,.5,.15,,-.02,,,,-.7444,.78,,,.7619,,,.1,,,,,.5]),Yt=A([3,,.38,.5369,.52,.18,,-.02,,,,-.7444,.78,,,.7619,,,.1,,,,,.5]),Ht=A([2,.07,.04,,.24,.25,,.34,-.1999,,,-.02,,.3187,,,-.14,.04,.85,,.28,.63,,.5]),Wt=A([1,,.04,,.45,.14,.06,-.06,.02,.87,.95,-.02,,.3187,,,-.14,.04,.5,,,,,.4]),Xt=A([0,.11,.37,,.92,.15,,-.06,-.04,.29,.14,.1,,.5047,,,,,.16,-.02,,,,.7]),qt=A([0,,.0941,.29,.42,.563,,,,,,.4399,.5658,,,,,,1,,,,,.5]),Kt=A([2,.07,.1,,.2,.75,.35,-.1,.12,,,-.02,,,,,-.06,-.0377,.26,,,.8,,.7]),jt=A([2,.05,.8,,.05,.5,,,,.46,.29,,,,,,,,1,,,,,.5]);Tt.viewport(0,0,kt,Nt),Tt.pixelStorei(Tt.UNPACK_FLIP_Y_WEBGL,!0);var Vt=Tt.createBuffer();Tt.bindBuffer(Tt.ARRAY_BUFFER,Vt),Tt.bufferData(Tt.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),Tt.STATIC_DRAW);var Jt=n(Mt,dt);Tt.uniform2f(s(Jt,"dim"),kt,Nt);var zt=n(Mt,Et),Qt=n(Mt,At),Zt=n(Mt,bt),$t=n(Mt,gt),tr=n(Mt,St);Tt.uniform1f(s(tr,"S"),_t);var rr=n(Mt,pt),ar=v(),er=v(),or=v(),nr=v(),ir=v(),sr=v(),cr=f();localStorage.ach||(localStorage.ach=[0,0,0]);var fr,hr=0,lr=[kt/2,Nt/2,0,0,0],vr=[],ur=[],mr=[],Mr=[],dr=[],Er=0,pr=0,gr=0,Ar=0,br=0,Sr=-1e4,Tr=0,Rr=0,Ir=0,xr=0,Dr=0,yr=0,Pr=0,Lr=0,kr=0,Nr=1,wr=1,_r=0,Or=localStorage.pl&&parseInt(localStorage.pl),Gr=localStorage.ach.split(",").map(function(t){return parseInt(t,10)});R();for(var Ur={},Cr=0;99>Cr;++Cr)Ur[Cr]=0;var Fr;ct?addEventListener("touchstart",function(t){t.preventDefault();var r=c.getBoundingClientRect();t=t.changedTouches[0];var a=t.clientX-r.left,e=t.clientY-r.top;Fr=[a,e]}):(addEventListener("click",function(t){t.preventDefault();var r=c.getBoundingClientRect(),a=t.clientX-r.left,e=t.clientY-r.top;Fr=[a,e]}),addEventListener("keydown",function(t){Ur[t.which]=1}),addEventListener("keyup",function(t){Ur[t.which]=0}));var Br,Yr,Hr,Wr=0,Xr=0,qr=0,Kr=0,jr=[[8,0],[7,5],[0,9],[7,14]],Vr=[[15,14],[22,9],[15,5],[14,0]],Jr=jr.concat(Vr).concat(jr).concat([,]).concat(Vr).concat([,[7,5],[15,5],,[0,9],[22,9]]),zr=[[[-11,-11],[4,-13],[6,-6],[14,0],[14,8],[6,8],[-6,14],[-14,0]],[[-8,13],[0,-13],[8,13],[0,11],[-8,13],,[-10,-2],[10,2],,[10,-2],[-10,2],,],Jr.map(function(t){return t?[t[0]-11,t[1]-7]:t})],Qr=0;requestAnimationFrame(it),st&&addEventListener("dblclick",function(){Sr=-1,Rr+=1,Mr=[],console.log("player=",Rr)})}();